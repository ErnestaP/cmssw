_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"+QRC":function(e,t,n){"use strict";var a=n("E9nw"),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,l,c,i,u,s=!1;t||(t={}),n=t.debug||!1;try{if(l=a(),c=document.createRange(),i=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),"undefined"===typeof a.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=r[t.format]||r.default;window.clipboardData.setData(o,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))})),document.body.appendChild(u),c.selectNodeContents(u),i.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(c):i.removeAllRanges()),u&&document.body.removeChild(u),l()}return s}},"/EDR":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("23aj")}])},"23aj":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("g4pe"),l=n.n(o),c=n("20a2"),i=n.n(c),u=n("kPKH"),s=n("3S7+"),d=n("4Hbs"),f=n("4+tb"),b=n.n(f),p=n("Qyje"),m=n.n(p),h=n("+6GR"),v=function(e,t){var n=b()({search_run_number:e,search_dataset_name:t}),a=m.a.stringify(n,{}),r="/"!==h.d?"".concat(h.d,"?").concat(a):void 0;i.a.push({pathname:"",query:n},r)},y=function(e){return"0"===e.run_number&&"/Global/Online/ALL"===e.dataset_name},g=n("ODXe"),O=n("IdJg"),j=n("sdz8"),_=n("0XKZ"),w=n("iaY6"),S=n("W9HT"),E=n("o0o1"),k=n.n(E),C=n("rePB"),P=n("HaE+"),x=n("vDqi"),R=n.n(x);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Object(a.useState)(null),l=o[0],c=o[1],i=Object(a.useState)(!1),u=i[0],s=i[1],d=Object(a.useRef)(null),f=Object(a.useState)([]),b=f[0],p=f[1];return Object(a.useEffect)((function(){var e;d&&(null===(e=d.current)||void 0===e||e.cancel())}),[]),Object(a.useEffect)((function(){var n=R.a.CancelToken;return d.current=n.source(),r&&function(){var n=Object(P.a)(k.a.mark((function n(){var a,r,o,l,i;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s(!0);case 2:return n.prev=2,setTimeout(null===(a=d.current)||void 0===a?void 0:a.cancel,18e4),n.next=6,R.a.request(L({url:"".concat(h.c).concat(e),method:t.method||"get",cancelToken:null===(r=d.current)||void 0===r?void 0:r.token},t));case 6:o=n.sent,l=o.data,c(l),s(!1),n.next=18;break;case 12:n.prev=12,n.t0=n.catch(2),s(!1),p([n.t0.toString()]),R.a.isCancel(n.t0)&&(s(!1),p(["Request Timeout"])),null===(i=d.current)||void 0===i||i.cancel();case 18:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(){return n.apply(this,arguments)}}()(),function(){return p([])}}),n),{data:l,isLoading:u,errors:b,cancelSource:d}},D=n("NSkH"),I=a.createElement,z=function(e){var t=e.query,n=e.info,a={run_number:t.run_number,dataset_name:t.dataset_name,lumi:t.lumi,folders_path:"HLT/EventInfo",plot_name:n.value,notOlderThan:void 0},r=N(Object(D.b)(a),{},[t.dataset_name,t.run_number]),o=r.data,l=r.isLoading;return I(_.e,{display:"flex",justifycontent:"space-between"},I(_.b,{space:"1"},n.label),I(_.b,{space:"1",bold:"true"},l?I(S.a,{size:"small"}):function(e){var t=o?o.fString:null;return"time"===e.type&&t?new Date(1e3*parseInt(t)).toUTCString():t||"No information"}(n)))},M=n("Rja7"),q=n("KQm4"),H="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),A=new Uint8Array(16);function B(){if(!H)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return H(A)}for(var F=[],V=0;V<256;++V)F[V]=(V+256).toString(16).substr(1);var U=function(e,t){var n=t||0,a=F;return[a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]]].join("")};var W=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||B)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;++o)t[a+o]=r[o];return t||U(r)},J=n("LvDl"),K=n.n(J);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t=e?e.split("/"):["","",""],n=b()(t);return n.reduce((function(e,t){var a=n.indexOf(t),r="part_".concat(a);return X(X({},e),{},Object(C.a)({},r,t))}),{})},Q=function(e){if(e){var t=null===e||void 0===e?void 0:e.split("&");return null===t||void 0===t?void 0:t.map((function(e){var t=W(),n=e?b()(e.split("/")):void 0,a=n?n.pop():"";return{id:t,checked:!0,run_number:n?n.shift():"",dataset_name:n?"/"+(null===n||void 0===n?void 0:n.join("/")):"",label:a}}))}return[]},Z=function(e,t){var n=e.map((function(e){return Y(e)}));return K.a.chain(n).groupBy(t).value()},$=function(e,t,n,a,r){var o=a.filter((function(e){return e.id===n}))[0],l=a.indexOf(o);return o[t]=e,a[l]=o,r(a)},ee=n("9ZV4"),te=function(e,t){var n=(e?e.split("&"):[]).map((function(e){var n=encodeURI(t.name);if([t.run_number+t.dataset_name,t.path,n].join("/")!==e)return e}));return b()(n).join("&")},ne=function(e,t){var n,a=t.run_number,r=null===(n=t.dataset_name)||void 0===n?void 0:n.substring(1),o=t.path,l=t.name,c=[a,r,o,encodeURI(l)].join("/");return"".concat(e?e+"&":"").concat(c)},ae=function(e){var t=e&&e.map((function(e){return"".concat(e.run_number).concat(e.dataset_name,"/").concat(e.label?e.label:e.run_number)}));return null===t||void 0===t?void 0:t.join("&")},re=function(e,t,n,a,r){return b()({run_number:t.run_number?t.run_number:"",dataset_name:t.dataset_name?t.dataset_name:"",folders_path:a,plot_name:n,height:r?e.rightSideSize.h:e.size.h,width:r?e.rightSideSize.w:e.size.w,customise:e.customise,overlay:e.overlayPosition,notOlderThan:e.updated_by_not_older_than?e.updated_by_not_older_than:"",overlay_plot:t.overlay_data?Q(t.overlay_data):[],normalize:e.normalize,stats:e.stats,error:e.error,lumi:e.lumisection})},oe=function(e,t){return Object(ee.a)(Object(ee.d)({selected_plots:"".concat(ne(e.selected_plots,t))},e))},le=function(e,t){Object(ee.a)(Object(ee.d)({selected_plots:"".concat(te(e.selected_plots,t))},e))},ce=function(e){e&&e.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},ie=function(e){e&&e.current&&(e.current.scrollTop=e.current.scrollHeight)},ue=function(e){var t=!1;return h.b.new_back_end.new_back_end?!(!e.qteststatuses||!e.qteststatuses.find((function(e){return 300===e}))):(e.qteststatuses&&e.qteststatuses.forEach((function(e){if(e.hasOwnProperty("status")&&300===e.status)return t=!0,!0})),t||t)},se=n("DB5t"),de=n("FUt6"),fe=a.createElement,be=function(e){var t=e.query,n=e.toggleModal,r=e.open,o=a.useContext(se.b),l=re(o,t,"iRun","HLT/EventInfo"),c=N(Object(D.b)(l),{},[t.dataset_name,t.run_number]).data,i=Object(de.e)({value:"iRun",label:"Run"},c);return fe(j.i,{title:"Run ".concat(i," information"),visible:r,onCancel:function(){return n(!1)},footer:[fe(_.m,{color:w.a.colors.secondary.main,background:"white",key:"Close",onClick:function(){return n(!1)}},"Close")]},r&&fe("div",null,M.e.map((function(e){return fe(z,{info:e,query:t})}))))},pe=a.createElement,me=function(e){var t=e.query,n=a.useState(!1),r=Object(g.a)(n,2),o=r[0],l=r[1];return pe(a.Fragment,null,pe(be,{toggleModal:l,open:o,query:t}),pe(u.a,{onClick:function(){return l(!o)},style:{width:"min-content"}},pe(O.a,{content:"Run info"},pe(_.k,null))))},he=n("wx14"),ve=n("TSYQ"),ye=n.n(ve),ge=n("c+Xe"),Oe=n("H84U"),je=n("uaoM"),_e=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},we=function(e,t){var n=e.prefixCls,r=e.component,o=void 0===r?"article":r,l=e.className,c=e["aria-label"],i=e.setContentRef,u=e.children,s=_e(e,["prefixCls","component","className","aria-label","setContentRef","children"]),d=t;return i&&(Object(je.a)(!1,"Typography","`setContentRef` is deprecated. Please use `ref` instead."),d=Object(ge.a)(t,i)),a.createElement(Oe.a,null,(function(e){var t=e.getPrefixCls,r=e.direction,i=o,f=t("typography",n),b=ye()(f,Object(C.a)({},"".concat(f,"-rtl"),"rtl"===r),l);return a.createElement(i,Object(he.a)({className:b,"aria-label":c,ref:d},s),u)}))},Se=a.forwardRef(we);Se.displayName="Typography";var Ee=Se,ke=n("U8pU"),Ce=n("1OyB"),Pe=n("vuIU"),xe=n("Ji7U"),Re=n("LK+K"),Te=n("Zm9Q"),Le=n("+QRC"),Ne=n.n(Le),De=n("BGR+"),Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},ze=n("6VBw"),Me=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Ie}))};Me.displayName="EditOutlined";var qe=a.forwardRef(Me),He=n("bRQS"),Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},Be=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Ae}))};Be.displayName="CopyOutlined";var Fe=a.forwardRef(Be),Ve=n("t23M"),Ue=n("wEI+"),We=n("YMnH"),Je=n("4IlW"),Ke=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Ge={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},Xe=a.forwardRef((function(e,t){var n=e.style,r=e.noStyle,o=e.disabled,l=Ke(e,["style","noStyle","disabled"]),c={};return r||(c=Object(he.a)({},Ge)),o&&(c.pointerEvents="none"),c=Object(he.a)(Object(he.a)({},c),n),a.createElement("div",Object(he.a)({role:"button",tabIndex:0,ref:t},l,{onKeyDown:function(e){e.keyCode===Je.a.ENTER&&e.preventDefault()},onKeyUp:function(t){var n=t.keyCode,a=e.onClick;n===Je.a.ENTER&&a&&a()},style:c}))})),Ye=n("oHiP"),Qe=function(e){if("undefined"!==typeof window&&window.document&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1},Ze=(Qe(["flex","webkitFlex","Flex","msFlex"]),{icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"}),$e=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Ze}))};$e.displayName="EnterOutlined";var et,tt=a.forwardRef($e),nt=n("whJP"),at=function(e){var t=e.prefixCls,n=e["aria-label"],r=e.className,o=e.style,l=e.direction,c=e.maxLength,i=e.autoSize,u=void 0===i||i,s=e.value,d=e.onSave,f=e.onCancel,b=a.useRef(),p=a.useRef(!1),m=a.useRef(),h=a.useState(s),v=Object(g.a)(h,2),y=v[0],O=v[1];a.useEffect((function(){O(s)}),[s]),a.useEffect((function(){if(b.current&&b.current.resizableTextArea){var e=b.current.resizableTextArea.textArea;e.focus();var t=e.value.length;e.setSelectionRange(t,t)}}),[]);var j=function(){d(y.trim())},_=ye()(t,"".concat(t,"-edit-content"),Object(C.a)({},"".concat(t,"-rtl"),"rtl"===l),r);return a.createElement("div",{className:_,style:o},a.createElement(nt.a,{ref:b,maxLength:c,value:y,onChange:function(e){var t=e.target;O(t.value.replace(/[\n\r]/g,""))},onKeyDown:function(e){var t=e.keyCode;p.current||(m.current=t)},onKeyUp:function(e){var t=e.keyCode,n=e.ctrlKey,a=e.altKey,r=e.metaKey,o=e.shiftKey;m.current!==t||p.current||n||a||r||o||(t===Je.a.ENTER?j():t===Je.a.ESC&&f())},onCompositionStart:function(){p.current=!0},onCompositionEnd:function(){p.current=!1},onBlur:function(){j()},"aria-label":n,autoSize:u}),a.createElement(tt,{className:"".concat(t,"-edit-content-confirm")}))},rt=n("i8i4"),ot={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function lt(e){if(!e)return 0;var t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}var ct=function(e,t,n,r,o){et||((et=document.createElement("div")).setAttribute("aria-hidden","true"),document.body.appendChild(et));var l,c=t.rows,i=t.suffix,u=void 0===i?"":i,s=window.getComputedStyle(e),d=(l=s,Array.prototype.slice.apply(l).map((function(e){return"".concat(e,": ").concat(l.getPropertyValue(e),";")})).join("")),f=lt(s.lineHeight),b=Math.round(f*(c+1)+lt(s.paddingTop)+lt(s.paddingBottom));et.setAttribute("style",d),et.style.position="fixed",et.style.left="0",et.style.height="auto",et.style.minHeight="auto",et.style.maxHeight="auto",et.style.top="-999999px",et.style.zIndex="-1000",et.style.textOverflow="clip",et.style.whiteSpace="normal",et.style.webkitLineClamp="none";var p=function(e){var t=[];return e.forEach((function(e){var n=t[t.length-1];"string"===typeof e&&"string"===typeof n?t[t.length-1]+=e:t.push(e)})),t}(Object(Te.a)(n));function m(){return et.offsetHeight<b}if(Object(rt.render)(a.createElement("div",{style:ot},a.createElement("span",{style:ot},p,u),a.createElement("span",{style:ot},r)),et),m())return Object(rt.unmountComponentAtNode)(et),{content:n,text:et.innerHTML,ellipsis:!1};var h=Array.prototype.slice.apply(et.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter((function(e){return 8!==e.nodeType})),v=Array.prototype.slice.apply(et.childNodes[0].childNodes[1].cloneNode(!0).childNodes);Object(rt.unmountComponentAtNode)(et);var y=[];et.innerHTML="";var g=document.createElement("span");et.appendChild(g);var O=document.createTextNode(o+u);function j(e){g.insertBefore(e,O)}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=Math.floor((n+a)/2),l=t.slice(0,o);if(e.textContent=l,n>=a-1)for(var c=a;c>=n;c-=1){var i=t.slice(0,c);if(e.textContent=i,m()||!i)return c===t.length?{finished:!1,reactNode:t}:{finished:!0,reactNode:i}}return m()?_(e,t,o,a,o):_(e,t,n,o,r)}function w(e,t){var n=e.nodeType;if(1===n)return j(e),m()?{finished:!1,reactNode:p[t]}:(g.removeChild(e),{finished:!0,reactNode:null});if(3===n){var a=e.textContent||"",r=document.createTextNode(a);return j(r),_(r,a)}return{finished:!1,reactNode:null}}return g.appendChild(O),v.forEach((function(e){et.appendChild(e)})),h.some((function(e,t){var n=w(e,t),a=n.finished,r=n.reactNode;return r&&y.push(r),a})),{content:y,text:et.innerHTML,ellipsis:!0}},it=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},ut=Qe("webkitLineClamp"),st=Qe("textOverflow");var dt=function(e){Object(xe.a)(n,e);var t=Object(Re.a)(n);function n(){var e;return Object(Ce.a)(this,n),(e=t.apply(this,arguments)).contentRef=a.createRef(),e.state={edit:!1,copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1},e.getPrefixCls=function(){var t=e.props.prefixCls;return(0,e.context.getPrefixCls)("typography",t)},e.onExpandClick=function(t){var n=e.getEllipsis().onExpand;e.setState({expanded:!0}),n&&n(t)},e.onEditClick=function(){e.triggerEdit(!0)},e.onEditChange=function(t){var n=e.getEditable().onChange;n&&n(t),e.triggerEdit(!1)},e.onEditCancel=function(){e.triggerEdit(!1)},e.onCopyClick=function(t){t.preventDefault();var n=e.props,a=n.children,r=n.copyable,o=Object(he.a)({},"object"===Object(ke.a)(r)?r:null);void 0===o.text&&(o.text=String(a)),Ne()(o.text||""),e.setState({copied:!0},(function(){o.onCopy&&o.onCopy(),e.copyId=window.setTimeout((function(){e.setState({copied:!1})}),3e3)}))},e.setEditRef=function(t){e.editIcon=t},e.triggerEdit=function(t){var n=e.getEditable().onStart;t&&n&&n(),e.setState({edit:t},(function(){!t&&e.editIcon&&e.editIcon.focus()}))},e.resizeOnNextFrame=function(){Ye.a.cancel(e.rafId),e.rafId=Object(Ye.a)((function(){e.syncEllipsis()}))},e}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){this.setState({clientRendered:!0}),this.resizeOnNextFrame()}},{key:"componentDidUpdate",value:function(e){var t=this.props.children,n=this.getEllipsis(),a=this.getEllipsis(e);t===e.children&&n.rows===a.rows||this.resizeOnNextFrame()}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.copyId),Ye.a.cancel(this.rafId)}},{key:"getEditable",value:function(e){var t=this.state.edit,n=(e||this.props).editable;return n?Object(he.a)({editing:t},"object"===Object(ke.a)(n)?n:null):{editing:t}}},{key:"getEllipsis",value:function(e){var t=(e||this.props).ellipsis;return t?Object(he.a)({rows:1,expandable:!1},"object"===Object(ke.a)(t)?t:null):{}}},{key:"canUseCSSEllipsis",value:function(){var e=this.state.clientRendered,t=this.props,n=t.editable,a=t.copyable,r=this.getEllipsis(),o=r.rows,l=r.expandable,c=r.suffix,i=r.onEllipsis;return!c&&(!(n||a||l||!e||i)&&(1===o?st:ut))}},{key:"syncEllipsis",value:function(){var e=this.state,t=e.ellipsisText,n=e.isEllipsis,a=e.expanded,r=this.getEllipsis(),o=r.rows,l=r.suffix,c=r.onEllipsis,i=this.props.children;if(o&&!(o<0)&&this.contentRef.current&&!a&&!this.canUseCSSEllipsis()){Object(je.a)(Object(Te.a)(i).every((function(e){return"string"===typeof e})),"Typography","`ellipsis` should use string as children only.");var u=ct(this.contentRef.current,{rows:o,suffix:l},i,this.renderOperations(!0),"..."),s=u.content,d=u.text,f=u.ellipsis;t===d&&n===f||(this.setState({ellipsisText:d,ellipsisContent:s,isEllipsis:f}),n!==f&&c&&c(f))}}},{key:"renderExpand",value:function(e){var t,n=this.getEllipsis(),r=n.expandable,o=n.symbol,l=this.state,c=l.expanded,i=l.isEllipsis;return r&&(e||!c&&i)?(t=o||this.expandStr,a.createElement("a",{key:"expand",className:"".concat(this.getPrefixCls(),"-expand"),onClick:this.onExpandClick,"aria-label":this.expandStr},t)):null}},{key:"renderEdit",value:function(){var e=this.props.editable;if(e){var t=e.icon,n=e.tooltip,r=Object(Te.a)(n)[0]||this.editStr,o="string"===typeof r?r:"";return a.createElement(s.a,{key:"edit",title:!1===n?"":r},a.createElement(Xe,{ref:this.setEditRef,className:"".concat(this.getPrefixCls(),"-edit"),onClick:this.onEditClick,"aria-label":o},t||a.createElement(qe,{role:"button"})))}}},{key:"renderCopy",value:function(){var e=this.state.copied,t=this.props.copyable;if(t){var n=this.getPrefixCls(),r=t.tooltips,o=Object(Te.a)(r);0===o.length&&(o=[this.copyStr,this.copiedStr]);var l=e?o[1]:o[0],c="string"===typeof l?l:"",i=Object(Te.a)(t.icon);return a.createElement(s.a,{key:"copy",title:!1===r?"":l},a.createElement(Xe,{className:ye()("".concat(n,"-copy"),e&&"".concat(n,"-copy-success")),onClick:this.onCopyClick,"aria-label":c},e?i[1]||a.createElement(He.a,null):i[0]||a.createElement(Fe,null)))}}},{key:"renderEditInput",value:function(){var e=this.props,t=e.children,n=e.className,r=e.style,o=this.context.direction,l=this.getEditable(),c=l.maxLength,i=l.autoSize;return a.createElement(at,{value:"string"===typeof t?t:"",onSave:this.onEditChange,onCancel:this.onEditCancel,prefixCls:this.getPrefixCls(),className:n,style:r,direction:o,maxLength:c,autoSize:i})}},{key:"renderOperations",value:function(e){return[this.renderExpand(e),this.renderEdit(),this.renderCopy()].filter((function(e){return e}))}},{key:"renderContent",value:function(){var e=this,t=this.state,n=t.ellipsisContent,r=t.isEllipsis,o=t.expanded,l=this.props,c=l.component,i=l.children,u=l.className,s=l.type,d=l.disabled,f=l.style,b=it(l,["component","children","className","type","disabled","style"]),p=this.context.direction,m=this.getEllipsis(),h=m.rows,v=m.suffix,y=this.getPrefixCls(),g=Object(De.default)(b,["prefixCls","editable","copyable","ellipsis","mark","code","delete","underline","strong","keyboard"].concat(Object(q.a)(Ue.a))),O=this.canUseCSSEllipsis(),j=1===h&&O,_=h&&h>1&&O,w=i;if(h&&r&&!o&&!O){var S=b.title,E=S||"";S||"string"!==typeof i&&"number"!==typeof i||(E=String(i)),E=null===E||void 0===E?void 0:E.slice(String(n||"").length),w=a.createElement(a.Fragment,null,n,a.createElement("span",{title:E,"aria-hidden":"true"},"..."),v)}else w=a.createElement(a.Fragment,null,i,v);return w=function(e,t){var n=e.mark,r=e.code,o=e.underline,l=e.delete,c=e.strong,i=e.keyboard,u=t;function s(e,t){e&&(u=a.createElement(t,{},u))}return s(c,"strong"),s(o,"u"),s(l,"del"),s(r,"code"),s(n,"mark"),s(i,"kbd"),u}(this.props,w),a.createElement(We.a,{componentName:"Text"},(function(t){var n,r=t.edit,o=t.copy,l=t.copied,i=t.expand;return e.editStr=r,e.copyStr=o,e.copiedStr=l,e.expandStr=i,a.createElement(Ve.a,{onResize:e.resizeOnNextFrame,disabled:!h},a.createElement(Ee,Object(he.a)({className:ye()((n={},Object(C.a)(n,"".concat(y,"-").concat(s),s),Object(C.a)(n,"".concat(y,"-disabled"),d),Object(C.a)(n,"".concat(y,"-ellipsis"),h),Object(C.a)(n,"".concat(y,"-ellipsis-single-line"),j),Object(C.a)(n,"".concat(y,"-ellipsis-multiple-line"),_),n),u),style:Object(he.a)(Object(he.a)({},f),{WebkitLineClamp:_?h:null}),component:c,ref:e.contentRef,direction:p},g),w,e.renderOperations()))}))}},{key:"render",value:function(){return this.getEditable().editing?this.renderEditInput():this.renderContent()}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.children,n=e.editable;return Object(je.a)(!n||"string"===typeof t,"Typography","When `editable` is enabled, the `children` should use string."),{}}}]),n}(a.Component);dt.contextType=Oe.b,dt.defaultProps={children:""};var ft=dt,bt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},pt=function(e){var t=e.ellipsis,n=bt(e,["ellipsis"]);return Object(je.a)("object"!==Object(ke.a)(t),"Typography.Text","`ellipsis` only supports boolean value."),a.createElement(ft,Object(he.a)({},n,{ellipsis:!!t,component:"span"}))},mt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},ht=function(e,t){var n=e.ellipsis,r=e.rel,o=mt(e,["ellipsis","rel"]);Object(je.a)("object"!==Object(ke.a)(n),"Typography.Link","`ellipsis` only supports boolean value.");var l=a.useRef(null);a.useImperativeHandle(t,(function(){var e;return null===(e=l.current)||void 0===e?void 0:e.contentRef.current}));var c=Object(he.a)(Object(he.a)({},o),{rel:void 0===r&&"_blank"===o.target?"noopener noreferrer":r});return delete c.navigate,a.createElement(ft,Object(he.a)({},c,{ref:l,ellipsis:!!n,component:"a"}))},vt=a.forwardRef(ht),yt=n("CWQg"),gt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Ot=Object(yt.b)(1,2,3,4,5),jt=function(e){var t,n=e.level,r=void 0===n?1:n,o=gt(e,["level"]);return-1!==Ot.indexOf(r)?t="h".concat(r):(Object(je.a)(!1,"Typography.Title","Title only accept `1 | 2 | 3 | 4 | 5` as `level` value. And `5` need 4.6.0+ version."),t="h1"),a.createElement(ft,Object(he.a)({},o,{component:t}))},_t=function(e){return a.createElement(ft,Object(he.a)({},e,{component:"div"}))},wt=Ee;wt.Text=pt,wt.Link=vt,wt.Title=jt,wt.Paragraph=_t;var St=wt,Et=n("fcT2"),kt=a.createElement,Ct=St.Title,Pt=function(e){var t=e.query,n=a.useContext(Et.b),r=n.not_older_than,o=n.addLoader;return kt(a.Fragment,null,kt(_.d,{display:"flex",style:{alignItems:"center"}},M.b.map((function(e){var n={run_number:t.run_number,dataset_name:t.dataset_name,folders_path:"HLT/EventInfo",lumi:-1,notOlderThan:void 0,plot_name:e.value},l=N(Object(D.b)(n),{},[t.dataset_name,t.run_number,r]),c=l.data,i=l.isLoading,u=a.useState(),s=Object(g.a)(u,2),d=s[0],f=s[1];return a.useEffect((function(){var e=Object(de.f)();f(e)}),[]),a.useEffect((function(){o({value:i,id:d})}),[i]),kt(_.h,{space:"8",width:"fit-content",color:w.a.colors.common.white,name:e.label,label:e.label},kt(Ct,{level:4,style:{color:"white",display:"content"}},i?kt(S.a,{size:"small"}):Object(de.e)(e,c)))}))))},xt=n("Vl3Y"),Rt=n("tsqr"),Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.5 360.3a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7H381c10.2 0 19.9-4.9 25.9-13.2L512 460.4l105.2 145.4c6 8.3 15.6 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.5-12.7l-178-246z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"up-circle",theme:"outlined"},Lt=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Tt}))};Lt.displayName="UpCircleOutlined";var Nt=a.forwardRef(Lt),Dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"down-circle",theme:"outlined"},It=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Dt}))};It.displayName="DownCircleOutlined";var zt=a.forwardRef(It),Mt=n("Nwzp"),qt=n("BMrR"),Ht=r.a.createElement,At=function(e){var t=e.index,n=e.dataset,r=e.runs,o=e.handler,l=e.alreadySeletected,c=Object(a.useState)(!1),i=c[0],u=c[1],s=!!l&&l.length>=8;return Ht(Mt.r,{expanded:i,index:t},Ht(Mt.p,null,Ht("div",null,n,i&&Ht(Mt.i,null,r.map((function(e){var t=e,a=n,r=l&&l.length>0?l.findIndex((function(e){return e.dataset_name===a&&e.run_number===t})):-1,c=!!s||r>=0;return Ht(Mt.n,{key:e},Ht(Mt.h,{onClick:function(t){return!c&&o(e,n,t)},hover:"true",disabled:c.toString()},Ht(Mt.l,{"aria-disabled":c},e)))}))))),Ht(Mt.s,null,Ht(_.v,{onClick:function(){return u(!i)}},Ht(qt.a,null,Ht(_.b,{space:"1"},r.length),Ht(_.b,{space:"1"},Ht(i?Nt:zt,null))))))},Bt=n("TjyM"),Ft=r.a.createElement,Vt=function(e){var t=e.handler,n=e.results_grouped,o=e.isLoading,l=e.errors,c=e.alreadySeletected,i=!!c&&c.length>=8;Object(a.useEffect)((function(){i&&Rt.b.warning("Maximum can be overlaid 8 plots in total")}),[i]);var u=l&&l.length>0?l:[],s=c?c.map((function(e){return{run_number:e.run_number,dataset_name:e.dataset_name}})):[];return Ft(Mt.t,{overflowx:"hidden"},o?Ft(Mt.k,null,Ft(Mt.j,null)):Ft(r.a.Fragment,null,0!==n.length||o||0!==u.length?o||0!==u.length?!o&&u.length>0&&u.map((function(e){return Ft(Mt.m,{key:e,message:e,type:"error",showIcon:!0})})):Ft(Mt.o,null,Ft(Mt.q,null,Ft(Mt.r,{noHover:!0},Ft(Mt.p,null,"Dataset"),Ft(Mt.s,null,"Runs"))),Ft(Mt.u,null,n.map((function(e,n){var a=e.dataset,r=e.runs;return Ft(At,{alreadySeletected:s,key:a,index:n,handler:t,dataset:a,runs:r})})))):Ft(Bt.a,null)))},Ut=function(e,t){var n=!(!e&&!t),a=e||"",r=t||"",o=Object(ee.c)({dataset_name:r,run_number:a,lumi:""}),l=N(o,{},[e,t],n),c=l.data,i=l.isLoading,u=l.errors,s=function(e){if(h.b.new_back_end.new_back_end)return e&&e.data;if(e){var t=e.samples;return t?t.reduce((function(e,t){var n=t.items;return[].concat(Object(q.a)(e),Object(q.a)(n))}),[]):[]}}(c);return n&&null!==c&&0!==s.lenght?{results_grouped:K.a.chain(s).sortBy("dataset").groupBy("dataset").map((function(e,t){var n=e.map((function(e){return e.run}));return n.sort((function(e,t){return e-t})),{dataset:t,runs:n}})).value(),searching:n,isLoading:i,errors:u}:{results_grouped:[],searching:n,isLoading:i,errors:u}},Wt=n("2fM7"),Jt=n("2/Rp"),Kt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"filled"},Gt=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Kt}))};Gt.displayName="CaretLeftFilled";var Xt=a.forwardRef(Gt),Yt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"filled"},Qt=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Yt}))};Qt.displayName="CaretRightFilled";var Zt=a.forwardRef(Qt),$t=n("AcXO"),en=a.createElement,tn=Wt.a.Option,nn=function(e){var t=e.color,n=e.currentLumisection,r=e.handler,o=e.currentRunNumber,l=e.currentDataset,c=a.useState([{label:"All",value:0}]),i=Object(g.a)(c,2),s=i[0],d=i[1],f=N(Object($t.a)({run_number:o,dataset_name:l,lumi:-1}),{},[o,l]),b=f.data,p=f.isLoading,m=(f.errors,b?b.data:[]);a.useEffect((function(){var e=m.length>0?m.map((function(e){return{label:e.lumi.toString(),value:e.lumi}})):[],t=Object(q.a)(s).concat(e);d(t)}),[m]);var h=s.map((function(e){return e.value})),v=-1===h.indexOf(n)?0:h.indexOf(n);return en(u.a,null,en(_.p,{labelcolor:t,name:"lumi",label:"Lumi"},en(qt.a,{justify:"center",align:"middle"},en(u.a,null,en(Jt.a,{disabled:!s[v-1],icon:en(Xt,null),type:"link",onClick:function(){r(h[v-1])}})),en(u.a,null,en(j.j,{dropdownMatchSelectWidth:!1,value:h[v],onChange:function(e){r(parseInt(e))},showSearch:!0},s&&s.map((function(e){return en(tn,{value:e.value,key:e.value.toString()},p?en(j.b,null,en(S.a,null)):en("p",null,e.label))})))),en(u.a,null,en(Jt.a,{icon:en(Zt,null),disabled:!s[v+1],type:"link",onClick:function(){r(h[v+1])}})))))},an=n("zbpD"),rn=n.n(an),on=n("9yH6"),ln=r.a.createElement,cn=function(e){var t=e.options,n=e.action,a=e.current_value,o=e.getOptionValue,l=e.getOptionLabel,c=e.radioColor,i=e.disabled,u=r.a.useState(a),s=Object(g.a)(u,2),d=s[0],f=s[1];return ln(on.a.Group,{onChange:function(e){n(e.target.value),f(e.target.value)},value:d,disabled:i},t.map((function(e){return ln(_.t,{color:c,key:e.label,value:o(e)},l(e))})))},un=a.createElement,sn=[{value:!0,label:"Yes"},{value:!1,label:"No"}],dn=function(e){var t=e.dataset_name,n=e.run_number,r=e.form,o=e.toggleRunInNewTab,l=e.openRunInNewTab,i=a.useContext(se.b),s=i.lumisection,d=i.setLumisection,f=Object(c.useRouter)().query;return un(rn.a,{form:r,onFinish:function(e){Object(ee.a)(Object(ee.d)(e,f))},fields:[{name:"dataset_name",value:t},{name:"run_number",value:n},{name:"lumi",value:s}]},un("hr",null),un(qt.a,null,un(_.p,{name:"dataset_name",label:"Dataset name"},un(_.l,null,t))),un(qt.a,null,un(_.p,{name:"run_number",label:"Run number"},un(_.l,null,n))),"OFFLINE"===h.b.mode&&h.b.new_back_end&&un(qt.a,null,un(u.a,null,un(nn,{color:"black",handler:function(e){d(e)},currentLumisection:s,currentDataset:t,currentRunNumber:n}))),un("hr",null),un(qt.a,null,un(_.p,{name:"open_in_a_new_a_tab",label:"Open in a new tab?"},un(cn,{options:sn,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},current_value:l,action:function(e){o(e)}}))),un("hr",null))},fn=n("l+S1"),bn=r.a.createElement,pn=function(e){var t=e.onClick;return bn(_.m,{htmlType:"submit",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return t()})),shape:"circle",icon:bn(fn.a,null)})},mn=r.a.createElement,hn=function(){return mn(s.a,{title:"Search can be done by run number or by dataset name, or by both"},mn(_.s,null,mn(_.i,null)))},vn=r.a.createElement,yn=function(e){var t=e.initial_search_run_number,n=e.initial_search_dataset_name,r=e.setRunNumber,o=e.setDatasetName,l=e.handler,c=e.type,i=e.defaultRunNumber,u=e.defaultDatasetName,s=xt.a.useForm(),d=Object(g.a)(s,1)[0],f=Object(a.useState)(t||""),b=f[0],p=f[1],m=Object(a.useState)(n||""),v=m[0],y=m[1];Object(a.useEffect)((function(){d.resetFields(),p(t||""),y(n||"")}),[t,n,d]);return vn("div",{style:{justifyContent:"center",width:"max-content"}},vn(_.d,Object(he.a)({form:d,layout:"inline",justifycontent:"center"},{labelCol:{span:8},wrapperCol:{span:16}},{name:"search_form".concat(c),className:"fieldLabel",initialValues:{run_number:t,dataset_name:n},onFinish:function(){b&&r(b),v&&o(v)}}),vn(xt.a.Item,null,vn(hn,null)),vn(_.p,{name:"run_number"},vn(_.q,{id:"run_number",onChange:function(e){return p(e.target.value)},placeholder:"Enter run number",type:"text",name:"run_number",value:i})),"ONLINE"!==h.b.mode&&vn(_.p,{name:"dataset_name"},vn(_.q,{id:"dataset_name",placeholder:"Enter dataset name",onChange:function(e){return y(e.target.value)},type:"text",value:u})),vn(xt.a.Item,null,vn(pn,{onClick:function(){return l(b,v)}}))))},gn=r.a.createElement,On=function(e){window.open(e,"_blank")},jn=function(e){var t=e.setModalState,n=e.modalState,o=e.search_run_number,l=e.search_dataset_name,i=e.setSearchDatasetName,u=e.setSearchRunNumber,s=Object(c.useRouter)().query,d=s.dataset_name?s.dataset_name:"",f=Object(a.useState)(d),b=f[0],p=f[1],h=Object(a.useState)(!1),v=h[0],y=h[1],O=s.run_number?s.run_number:"",S=Object(a.useState)(O),E=S[0],C=S[1];Object(a.useEffect)((function(){var e=s.run_number?s.run_number:"",t=s.dataset_name?s.dataset_name:"";p(t),C(e)}),[s.dataset_name,s.run_number]);var x=function(){t(!1)},R=Ut(o,l),T=R.results_grouped,L=R.searching,N=R.isLoading,D=R.errors,I=function(){var e=Object(P.a)(k.a.mark((function e(){var t,n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=7;break}t=M.getFieldsValue(),n=m.a.stringify(Object(ee.d)(t,s)),a=window.location.href.split("/?")[0],On("".concat(a,"/?").concat(n)),e.next=9;break;case 7:return e.next=9,M.submit();case 9:x();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=xt.a.useForm(),M=Object(g.a)(z,1)[0];return gn(j.i,{title:"Search data",visible:n,onCancel:function(){return x()},footer:[gn(_.m,{color:w.a.colors.secondary.main,background:"white",key:"Close",onClick:function(){return x()}},"Close"),gn(_.m,{key:"OK",onClick:I},"OK")]},n&&gn(r.a.Fragment,null,gn(yn,{initial_search_run_number:o,initial_search_dataset_name:l,defaultDatasetName:b,defaultRunNumber:E,handler:function(e,t){u(e),i(t)},type:"top"}),gn(dn,{form:M,dataset_name:b,run_number:E,toggleRunInNewTab:y,openRunInNewTab:v}),L?gn(j.c,null,gn(Vt,{handler:function(e,t){p(t),C(e)},isLoading:N,results_grouped:T,errors:D})):gn(j.c,null)))},_n=n("B/o2"),wn=r.a.createElement,Sn=Wt.a.Option,En=function(e){var t=e.withoutArrows,n=e.setCurrentDataset,r=e.selectorWidth,o=e.query,l=e.current_dataset_name,c=e.current_run_number,i=Object(a.useState)(!1),s=i[0],d=i[1],f=Object(a.useState)(0),b=f[0],p=f[1],m=c||o.run_number,h=Ut(m,""),v=h.results_grouped,y=h.isLoading,g=v.map((function(e){return e.dataset}));return Object(a.useEffect)((function(){var e=l||o.dataset_name;p(g.indexOf(e))}),[y,g]),wn(qt.a,{justify:"center",align:"middle"},!t&&wn(u.a,null,wn(Jt.a,{disabled:!g[b-1],type:"link",icon:wn(Xt,null),onClick:function(){n(g[b-1])}})),wn(_.b,{width:r},wn("div",null,wn(j.j,{onChange:function(e){n(e)},value:g[b],dropdownMatchSelectWidth:!1,onClick:function(){return d(!s)},open:s,showSearch:!0},v.map((function(e){return wn(Sn,{onClick:function(){d(!1)},value:e.dataset,key:e.dataset},y?wn(j.b,null,wn(S.a,null)):wn("p",null,e.dataset))}))))),!t&&wn(u.a,null,wn(Jt.a,{type:"link",disabled:!g[b+1],icon:wn(Zt,null),onClick:function(){n(g[b+1])}})))},kn=r.a.createElement,Cn=Wt.a.Option,Pn=function(e){var t=e.setName,n=e.setGroupBy,r=e.resultsNames,o=e.restParts,l=e.part,c=e.name,i=e.setSelectedParts,u=e.selectedParts,s=e.selectedName,d=Object(a.useState)(c),f=d[0],b=d[1],p=Object(a.useState)(!1),m=p[0],h=p[1];return kn(j.j,{dropdownMatchSelectWidth:!1,defaultValue:c,selected:s===f?"selected":"",onChange:function(e){u[l]=e,i(u),n(l),b(e),t(e)},onClick:function(){return h(!m)},open:m},r.map((function(e){return kn(Cn,{value:e,key:e,onClick:function(){return h(!1)}},kn(_.r,{availability:"available"},e))})),o.map((function(e){return kn(Cn,{key:e,value:e},kn(_.r,null,e))})))},xn=function(e,t){var n=Y(t),r=Object.keys(n).sort(),o=Ut(e,"").results_grouped.map((function(e){return e.dataset})),l=r[0],c=Object(a.useState)(l),i=c[0],u=c[1],s=Object(a.useState)(n[l]),d=s[0],f=s[1],b=Object(a.useState)(Y(t)),p=b[0],m=b[1],h=Z(o,i),v=Object.values(p);v.unshift("");var y=v.join("/"),g=o.includes(y);return{availableAndNotAvailableDatasetParts:r.map((function(e){var t=function(e,t,n){var a=e[t]?K.a.uniq(e[t].map((function(e){return e[n]}))):[];return 1===a.length&&a[0]===t?Object.keys(e):a}(h,d,e),n=function(e,t,n){return Object.keys(Z(t,n)).filter((function(t){return!e.includes(t)}))}(t,o,e);return Object(C.a)({},e,{availableChoices:t,notAvailableChoices:n})})),setSelectedParts:m,selectedParts:p,setLastSelectedDatasetPartValue:f,lastSelectedDatasetPartValue:d,setLastSelectedDatasetPartPosition:u,doesCombinationOfSelectedDatasetPartsExists:g,fullDatasetName:y}},Rn=r.a.createElement,Tn=function(e){var t=e.currentDataset,n=e.query,r=e.currentRunNumber,o=xn(r,t),l=o.availableAndNotAvailableDatasetParts,c=o.setSelectedParts,i=o.selectedParts,s=o.setLastSelectedDatasetPartValue,d=o.lastSelectedDatasetPartValue,f=o.setLastSelectedDatasetPartPosition,b=o.doesCombinationOfSelectedDatasetPartsExists,p=o.fullDatasetName;return Object(a.useEffect)((function(){b&&Object(ee.a)(Object(ee.d)({dataset_name:p},n))}),[p]),Rn(qt.a,null,l.map((function(e){var t=Object.keys(e)[0];return Rn(u.a,null,Rn(Pn,{restParts:e[t].notAvailableChoices,part:t,resultsNames:e[t].availableChoices,setGroupBy:f,setName:s,selectedName:d,name:i[t],setSelectedParts:c,selectedParts:i}))})),Rn(u.a,null,Rn(b?_.w:_.o,null)))},Ln=r.a.createElement,Nn=Wt.a.Option,Dn=function(e){var t=e.query,n=e.setCurrentRunNumber,r=e.withoutArrows,o=e.withoutLabel,l=e.current_run_number,c=e.current_dataset_name,i=Object(a.useState)(!1),s=i[0],d=i[1],f=Object(a.useState)(0),b=f[0],p=f[1],m=c||t.dataset_name,h=Ut("",m),v=h.results_grouped,y=h.isLoading,g=v[0]?v[0].runs.map((function(e){return e.toString()})):[];return Object(a.useEffect)((function(){var e=l?l.toString():t.run_number;p(g.indexOf(e))}),[g,y]),Ln(u.a,null,Ln(_.p,{labelcolor:"white",name:"dataset_name",label:"".concat(o?"":"Run")},Ln(qt.a,{justify:"center",align:"middle"},!r&&Ln(u.a,null,Ln(Jt.a,{disabled:!g[b-1],icon:Ln(Xt,null),type:"link",onClick:function(){n(g[b-1])}})),Ln(u.a,null,Ln("div",null,Ln(j.j,{width:"100px",onClick:function(){return d(!s)},value:g[b],onChange:function(e){n(e),d(!s)},showSearch:!0,open:s},g&&g.map((function(e){return Ln(Nn,{onClick:function(){d(!1)},value:e,key:e.toString()},y?Ln(j.b,null,Ln(S.a,null)):Ln("div",null,e))}))))),!r&&Ln(u.a,null,Ln(Jt.a,{icon:Ln(Zt,null),disabled:!g[b+1],type:"link",onClick:function(){n(g[b+1])}})))))},In=n("BvKs"),zn=n("jsC+"),Mn=n("8Skl"),qn=r.a.createElement,Hn=function(e){var t=e.options,n=e.defaultValue,r=e.action,o=Object(a.useState)(n),l=o[0],c=o[1];return qn(qt.a,null,qn(u.a,null,qn(zn.a,{overlay:function(e,t){return qn(In.a,null,e.map((function(e){return qn(In.a.Item,{key:e.value,onClick:function(){r&&r(e.value),c(e)}},qn("div",null,e.label))})))}(t),trigger:["hover"]},qn("a",{style:{color:"white"}},l.label," ",qn(Mn.a,null)," "))))},An=r.a.createElement,Bn=function(){var e=Object(a.useState)(M.a[0].value),t=e[0],n=e[1],o=Object(c.useRouter)().query,l=o.run_number?o.run_number:"",i=o.dataset_name?o.dataset_name:"",u=o.lumi?parseInt(o.lumi):NaN,s=r.a.useContext(se.b).setLumisection,d=Object(a.useState)(l),f=d[0],b=d[1],p=Object(a.useState)(i),m=p[0],v=p[1];return Object(a.useEffect)((function(){Object(ee.a)(Object(ee.d)({run_number:f,dataset_name:m},o))}),[f,m]),An(rn.a,null,An(_n.n,null,An(_n.n,null,An(Dn,{query:o,setCurrentRunNumber:b})),An(_n.n,null,"OFFLINE"===h.b.mode&&h.b.new_back_end&&An(nn,{currentLumisection:u,currentRunNumber:f,currentDataset:m,handler:function(e){Object(ee.a)(Object(ee.d)({lumi:e},o)),s(e)},color:"white"})),"ONLINE"!==h.b.mode&&An(_.p,{labelcolor:"white",label:An(Hn,{options:M.a,action:n,defaultValue:M.a[0]})},t===M.a[0].value?An(_n.n,null,An(En,{setCurrentDataset:v,query:o})):An(_n.n,null,An(Tn,{currentRunNumber:f,currentDataset:m,query:o})))))},Fn=a.createElement,Vn=function(){var e=Object(c.useRouter)().query,t=e.run_number?e.run_number:"",n=a.useState(t),r=Object(g.a)(n,2),o=r[0],l=r[1],i=a.useState(e.dataset_name),u=Object(g.a)(i,2),s=u[0],d=u[1],f=a.useState(!1),b=Object(g.a)(f,2),p=b[0],m=b[1];return a.useEffect((function(){if(p){var t=e.run_number?e.run_number:"";d(e.dataset_name),l(t)}}),[p]),Fn(_.b,{display:"flex",alignitems:"center"},Fn(jn,{modalState:p,setModalState:m,setSearchRunNumber:l,setSearchDatasetName:d,search_run_number:o,search_dataset_name:s}),Fn(_.e,{width:"fit-content"},Fn(Bn,null),Fn(pn,{onClick:function(){return m(!0)}})))},Un=a.createElement,Wn=function(){var e=Object(c.useRouter)().query,t="0"===e.run_number&&"/Global/Online/ALL"===e.dataset_name;return Un(_.e,{alignitems:"center"},t?Un(Pt,{query:e}):Un(Vn,null))},Jn=a.createElement,Kn=function(e){var t=e.isDatasetAndRunNumberSelected,n=e.query;return Jn(u.a,{style:{width:"100%"}},t?Jn(u.a,{style:{display:"flex",alignItems:"center",width:"100%"}},Jn(u.a,{style:{display:"flex",alignItems:"center",float:"left",padding:8}},Jn(me,{query:n}),Jn(Wn,null))):Jn(a.Fragment,null,Jn(yn,{initial_search_run_number:n.search_run_number,initial_search_dataset_name:n.search_dataset_name,handler:v,type:"top"})))},Gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},Xn=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Gn}))};Xn.displayName="SettingOutlined";var Yn=a.forwardRef(Xn),Qn=n("oxPU"),Zn=n("Ff2n"),$n=n("YFqc"),ea=n.n($n),ta=a.createElement,na=function(e){var t=e.options;Object(Zn.a)(e,["options"]);return ta(qt.a,null,ta(u.a,null,ta(zn.a,{overlay:function(e){return ta(In.a,null,e.map((function(e){return"overlay"===e.value?ta(In.a.Item,{icon:e.icon},ta(ea.a,{href:h.d+e.url},ta("a",{target:"_bank"},e.label))):ta(In.a.Item,{icon:e.icon,key:e.value,onClick:function(){e.action&&e.action(e.value)}},e.label)})))}(t),trigger:["hover"]},ta(Jt.a,{type:"link"},"More ",ta(Mn.a,null)))))},aa=n("w/oY"),ra=function(e){var t=a.useState(!1),n=Object(g.a)(t,2),r=n[0],o=n[1];return a.useEffect((function(){setTimeout((function(){o(!0)}),0),setTimeout((function(){o(!1)}),2e3)}),[e]),{blink:r}},oa=a.createElement,la=St.Text,ca=function(){return oa(_.c,{width:"100%",height:"100%",display:"flex",justifycontent:"center"},oa(la,{type:"danger",strong:!0},"Failed to load"))},ia=n("YUw/"),ua=r.a.createElement,sa=function(e){var t=e.src,n=e.retryTimes,o=e.setImageError,l=Object(Zn.a)(e,["src","retryTimes","setImageError"]);delete l.onError;var c=Object(a.useState)(t),i=c[0],u=c[1],s=Object(a.useState)(0),d=s[0],f=s[1],b=Object(a.useState)((new Date).getTime()),p=b[0],m=b[1],h=Object(a.useState)(!0),v=h[0],y=h[1];return Object(a.useEffect)((function(){m((new Date).getTime()),u("".concat(t))}),[t]),ua(r.a.Fragment,null,ua(ia.e,{uploaded:v.toString()},ua("div",null,ua("img",Object(he.a)({src:i},l,{key:p,onError:function(){if(!(d+1<n))throw y(!1),o(!0),"Image loading failed after ".concat(n," times");f(d+1),u("".concat(t)),m((new Date).getTime())},onLoad:function(){l.onLoad(),y(!1)}})))))},da=a.createElement,fa=function(e){var t=e.imageRef,n=e.query,r=e.isPlotSelected,o=e.params_for_api,l=e.plotURL,c=e.plot,i=a.useContext(Et.b),u=i.not_older_than,s=i.addLoader,d=ra(u).blink,f=a.useState(!0),b=Object(g.a)(f,2),p=b[0],m=b[1],v=a.useState(),y=Object(g.a)(v,2),O=y[0],j=y[1],_=a.useState("".concat(h.c).concat(l,";notOlderThan=").concat(u)),w=Object(g.a)(_,2),S=w[0],E=w[1],C=a.useState("".concat(h.c).concat(l,";notOlderThan=").concat(u)),x=Object(g.a)(C,2),R=x[0],T=x[1],L=a.useState(!1),N=Object(g.a)(L,2),D=N[0],I=N[1];a.useEffect((function(){E("".concat(h.c).concat(l,";notOlderThan=").concat(u))}),[u,o.customise,o.height,o.width,o.run_number,o.dataset_name,o.lumi,o.normalize,o.overlay_plot,o.plot_name,o.folders_path,o.overlay_plot,o.joined_overlaied_plots_urls,l]),a.useEffect((function(){var e=Object(de.f)();j(e)}),[]),a.useEffect((function(){s({value:p,id:O})}),[p]);var z=p?"none":"",M=p?"":"none";return da(a.Fragment,null,D?da(ca,null):da("div",{onClick:Object(P.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}if(!r){e.next=6;break}return e.next=4,le(n,c);case 4:e.next=8;break;case 6:return e.next=8,oe(n,c);case 8:scroll(t);case 9:case"end":return e.stop()}}),e)})))},!D&&da(ia.d,{update:d.toString()||p.toString()},da(sa,{retryTimes:3,style:{display:M},onLoad:Object(P.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!1),e.next=3,T(S);case 3:case"end":return e.stop()}}),e)}))),alt:c.name,src:S,setImageError:I,width:o.width,height:o.height}),da(sa,{retryTimes:3,style:{display:z},alt:c.name,onLoad:function(){},src:R,setImageError:I,width:"auto",height:"auto"}))))},ba=n("9L/e"),pa=a.createElement,ma=function(e){var t=e.imageRef,n=e.query,r=e.isPlotSelected,o=e.params_for_api,l=e.plotURL,c=e.plot,i=a.useState("".concat(h.c).concat(l)),u=Object(g.a)(i,2),s=u[0],d=u[1],f=a.useState(!1),b=Object(g.a)(f,2),p=b[0],m=b[1],v=a.useState(!0),y=Object(g.a)(v,2),O=y[0],j=y[1];return a.useEffect((function(){d("".concat(h.c).concat(l))}),[l]),pa(a.Fragment,null,p?pa(ca,null):pa("div",{onClick:Object(P.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}if(!r){e.next=6;break}return e.next=4,le(n,c);case 4:e.next=8;break;case 6:return e.next=8,oe(n,c);case 8:scroll(t);case 9:case"end":return e.stop()}}),e)})))},!p&&pa(ia.d,{update:O.toString()},pa(ba.a,{style:{display:""},onLoad:function(){j(!1)},retryTimes:3,alt:c.name,src:s,setImageError:m,width:o.width,height:o.height}))))},ha=a.createElement,va=function(e){var t=Object(he.a)({},e),n="/Global/Online/ALL"===t.query.dataset_name&&"0"===t.query.run_number;return ha(n?fa:ma,t)},ya=r.a.createElement,ga=function(e){var t,n=e.selected_plot,o=e.params_for_api,l=Object(a.useState)(),i=l[0],u=l[1];Object(a.useEffect)((function(){n.draw&&u(n.draw)}),[]);var s=Object(a.useState)(!1),d=s[0],f=s[1];o.customise=i;var b=r.a.useState(!1),p=Object(g.a)(b,2),m=(p[0],p[1],Object(c.useRouter)().query),h=(Object(de.c)(m,n),[{label:"Customize",value:"Customize",action:function(){return f(!0)},icon:ya(Yn,null)}]),v=Object(D.c)(o),y=(o.overlaidWithLayoutsConfig?[o.overlaidWithLayoutsConfig].concat(v):v).join("");o.joined_overlaied_plots_urls=y;var O=function(e){return"onSide"===e.overlay?Object(Qn.b)(e):Object(Qn.a)(e)}(o);return ya(_n.k,{space:2},ya(aa.a,{plot_name:n.name,open:d,onCancel:function(){return f(!1)},setCustomisationParams:u}),ya(_n.l,{minheight:o.height,width:null===(t=o.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),justifycontent:"center"},ya(_n.h,{error:ue(n).toString()},n.name),ya(_n.a,{display:"flex"},ya(na,{options:h}),ya(_n.f,{onClick:function(){return le(m,n)}})),ya(_n.e,{id:n.name,width:o.width,height:o.height},ya(va,{params_for_api:o,plot:n,plotURL:O,query:m}))))},Oa=r.a.createElement;function ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var _a=function(){var e=Object(P.a)(k.a.mark((function e(t,n,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSROOT.cleanup("".concat(t).concat(n));case 2:JSROOT.draw("".concat(t).concat(n),JSROOT.parse(JSON.stringify(a)),"".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),wa=function(e){var t,n=e.selected_plot,o=e.params_for_api,l=e.id,i=Object(c.useRouter)().query,u=N(Object(D.b)(o),{},[n.name]).data,s=null!==o&&void 0!==o&&o.overlay_plot?o.overlay_plot.map((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(n),!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o);return e.dataset_name&&(t.dataset_name=e.dataset_name),t.run_number=e.run_number,N(Object(D.b)(t),{},[n.name,i.lumi]).data})):[];s.push(u);var d={};if(0===s.length)return null;if(1===s.length){var f=s[0];d=JSROOT.CreateTHStack(f)}else if(2===s.length){var p=s[0],m=s[1];d=JSROOT.CreateTHStack(p,m)}else if(3===s.length){var v=s[0],y=s[1],g=s[2];d=JSROOT.CreateTHStack(v,y,g)}else if(4===s.length){var O=s[0],j=s[1],_=s[2],w=s[3];d=JSROOT.CreateTHStack(O,j,_,w)}var S=r.a.useContext(Et.b).not_older_than,E=ra(S).blink,k=o.normalize?"hist":"nostack";return Object(a.useEffect)((function(){b()(d.fHists.arr).length===d.fHists.arr.length&&_a(k,l,d)}),[S,u,o.lumi,o.overlay_plot,o.dataset_name,o.run_number,o.normalize,d.fHists.arr]),Oa(_n.k,{space:2},Oa(_n.l,{isLoading:E.toString(),animation:("ONLINE"===h.b.mode).toString(),minheight:o.height,width:null===(t=o.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),justifycontent:"center"},Oa(_n.h,{error:ue(n).toString()},n.name),Oa(_n.a,null,Oa(Jt.a,{type:"link",onClick:function(){return le(i,n)},icon:Oa(_n.f,null)})),Oa(_n.e,{style:{display:o.normalize?"":"none"},id:"hist".concat(l),width:o.width,height:o.height}),Oa(_n.e,{style:{display:o.normalize?"none":""},id:"nostack".concat(l),width:o.width,height:o.height})))},Sa=n("w9pq"),Ea=r.a.createElement,ka=function(e){var t=e.selected_plots,n=Object(c.useRouter)().query,r=Object(a.useContext)(Sa.b),o=r.rightSideSize,l=r.customise,i=r.JSROOTmode,u=Object(a.useContext)(se.b),s=u.normalize,d=u.stats,f=u.error;return Ea(_.x,null,t.map((function(e){var t={run_number:n.run_number,dataset_name:n.dataset_name,lumi:n.lumi,folders_path:e.path,overlay:n.overlay,overlay_plot:Q(n.overlay_data),height:o.h,width:o.w,customise:l,plot_name:e.name,normalize:s,stats:d,error:f};if(console.log(t,n),i){var a=Object(de.f)();return Ea(wa,{selected_plot:e,params_for_api:t,key:e.name,id:a})}return Ea(ga,{selected_plot:e,params_for_api:t,key:e.name})})))},Ca={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M856 376H648V168c0-8.8-7.2-16-16-16H168c-8.8 0-16 7.2-16 16v464c0 8.8 7.2 16 16 16h208v208c0 8.8 7.2 16 16 16h464c8.8 0 16-7.2 16-16V392c0-8.8-7.2-16-16-16zm-480 16v188H220V220h360v156H392c-8.8 0-16 7.2-16 16zm204 52v136H444V444h136zm224 360H444V648h188c8.8 0 16-7.2 16-16V444h156v360z"}}]},name:"block",theme:"outlined"},Pa=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Ca}))};Pa.displayName="BlockOutlined";var xa=a.forwardRef(Pa),Ra=r.a.createElement;function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var La=function(e){var t,n=e.selected_plot,r=e.params_for_api,o=Object(a.useState)(),l=o[0],i=o[1];Object(a.useEffect)((function(){n.draw&&(i(n.draw),Rt.b.info("Plot is already customised"))}),[]);var u=Object(a.useState)(!1),s=u[0],d=u[1],f=Object(a.useState)(!1);f[0],f[1];r.customise=l;var b=Object(Qn.b)(r),p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r);p.height=window.innerHeight,p.width=Math.round(1.33*window.innerHeight);Object(Qn.b)(p);var m=Object(c.useRouter)().query,v=Object(de.d)(m,n),y=[{label:"Customize",value:"customise",action:function(){return d(!0)},icon:Ra(Yn,null)},h.b.new_back_end.new_back_end&&{label:"Overlay with another plot",value:"overlay",url:v,icon:Ra(xa,null)}];return Ra(_n.k,{space:2},Ra(aa.a,{plot_name:n.name,customizationParams:l,open:s,onCancel:function(){return d(!1)},setCustomisationParams:i}),Ra(_n.l,{minheight:r.height,width:null===(t=r.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString()},Ra(_n.h,{error:ue(n).toString()},n.name),Ra(_n.a,{display:"flex"},Ra(na,{options:y}),Ra(_n.f,{onClick:function(){return le(m,n)}})),Ra(_n.e,{alignitems:"center",id:n.name,width:r.width,height:r.height,display:"flex"},Ra(va,{params_for_api:r,plot:n,plotURL:b,query:m}))))},Na=r.a.createElement,Da=function(){var e=Object(P.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.getElementById(t)){e.next=5;break}return a=function(){JSROOT.cleanup&&JSROOT.cleanup(t)},e.next=4,a;case 4:JSROOT.draw(t,JSROOT.parse(JSON.stringify(n)),"hist");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ia=function(e){var t,n=e.selected_plot,o=e.params_for_api,l=e.id,i=Object(c.useRouter)().query,u=N(Object(D.b)(o),{},[n.name,o.lumi]).data,s=r.a.useContext(Et.b).not_older_than,d=ra(s).blink;return Object(a.useEffect)((function(){document.getElementById("".concat(l))&&Da("".concat(l),u)}),[u,o.lumi,s]),Na(_n.k,{space:2},Na(_n.l,{isLoading:d.toString(),animation:("ONLINE"===h.b.mode).toString(),minheight:o.height,width:null===(t=o.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString()},Na(_n.h,{error:ue(n).toString()},n.name),Na(_n.a,null,Na(Jt.a,{type:"link",onClick:function(){return le(i,n)},icon:Na(_n.f,null)})),Na(_n.e,{id:"".concat(l),width:o.width,height:o.height})))},za=r.a.createElement,Ma=function(e){var t=e.selected_plots,n=Object(a.useContext)(Sa.b),r=n.rightSideSize,o=n.customise,l=n.JSROOTmode,i=Object(c.useRouter)().query;return za(_.x,null,t.map((function(e){var t={run_number:i.run_number,dataset_name:i.dataset_name,lumi:i.lumi,folders_path:e.path,height:r.h,width:r.w,customise:o,plot_name:e.name};if(l){var n=Object(de.f)();return za(Ia,{selected_plot:e,params_for_api:t,key:e.name,id:n})}return za(La,{selected_plot:e,params_for_api:t,key:e.name})})))},qa=n("24Hv"),Ha=r.a.createElement,Aa=function(e){var t=e.selected_plots,n=Object(c.useRouter)().query,r=Object(a.useContext)(qa.b).setImageRefScrollDown,o=Object(a.useRef)(null);Object(a.useEffect)((function(){r(o)}),[]);var l=n.overlay_data;return Ha("div",{style:{width:"100%",height:"100%",overflow:"scroll"},ref:o},Ha(l?ka:Ma,{selected_plots:t}))},Ba=n("gK9i"),Fa=n("Sdc0"),Va=r.a.createElement,Ua=Wt.a.Option,Wa=function(e){var t=e.overlayPosition,n=e.setOverlaiPosition,o=Object(c.useRouter)().query,l=r.a.useState(t),i=Object(g.a)(l,2),u=i[0],s=i[1];return Object(a.useEffect)((function(){n(u)}),[u]),Va(j.j,{onChange:function(e){s(e)},value:o.overlay},M.c.map((function(e){return Va(Ua,{value:e.value,key:e.toString()},Va("div",null,e.label))})))},Ja={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Ka=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Ja}))};Ka.displayName="PlusOutlined";var Ga=a.forwardRef(Ka),Xa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},Ya=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:Xa}))};Ya.displayName="MinusOutlined";var Qa=a.forwardRef(Ya),Za=a.createElement,$a=function(e){var t=e.open,n=e.toggleModal,r=e.triples,o=e.setTriples,l=a.useState(""),i=Object(g.a)(l,2),u=i[0],s=i[1],d=a.useState(""),f=Object(g.a)(d,2),b=f[0],p=f[1],m=a.useState([]),h=Object(g.a)(m,2),v=h[0],y=h[1],O=Ut(u,b),S=O.results_grouped,E=O.searching,k=O.isLoading,C=O.errors,P=function(e){var t=[];return e.forEach((function(e){t=t.concat(e)})),t}([v,r]),x=Object(c.useRouter)().query;return Za(j.i,{title:"Set Runs",visible:t,onCancel:function(){n(!1),y([])},footer:[Za(_.m,{color:w.a.colors.secondary.main,background:"white",key:"Close",onClick:function(){n(!1),y([])}},"Close"),Za(_.m,{key:"OK",onClick:function(){Object(ee.a)(Object(ee.d)({overlay_data:"".concat(ae(P))},x)),o(P),n(!1),y([])}},"OK")]},Za("div",null,P.length>0&&Za(j.d,null,Za("thead",null,Za(j.g,null,Za(j.f,null,"Nr."),Za(j.f,null,"Run"),Za(j.f,null,"Dataset name"),Za(j.f,null,"Action"))),Za("tbody",null,P.map((function(e,t){return Za(j.g,null,Za(j.e,null,t+1,"."),Za(j.e,null,e.run_number),Za(j.e,null,e.dataset_name),Za(j.e,null,Za(_.v,{onClick:function(){!function(e){var t=Object(q.a)(v),n=t.findIndex((function(t){return t.id===e}));-1!==n&&(t.splice(n,1),y(t))}(e.id)},icon:Za(Qa,null)})))})))),Za("div",null,Za(yn,{handler:function(e,t){s(e),p(t)},setRunNumber:s,setDatasetName:p,type:"overlay"}),t&&E?Za(j.c,null,Za(Vt,{handler:function(e,t){var n={id:W(),run_number:e,dataset_name:t,checked:!0,label:""},a=Object(q.a)(v);a.length<8&&a.push(n),y(a)},isLoading:k,results_grouped:S,errors:C,alreadySeletected:P})):Za(j.c,null))))},er=n("kaz8"),tr=r.a.createElement,nr=function(e){e.removeRun;var t=e.id,n=e.field_name,a=e.value,r=e.placeholder,o=e.disabled,l=e.defaultValue,c=e.triples,i=e.change_run_details,u=a||l;return tr(_.p,{name:"".concat(t,"_").concat(n)},tr(_.q,{disabled:o,onChange:function(e){$(e.target.value,"label",t,c,i)},value:u,defaultValue:u,placeholder:r}))},ar=a.createElement,rr=function(e){var t=e.triples,n=e.query,a=e.change_run_details,r=e.remove_runs_to_set_runs_for_overlay;return ar("table",null,t.map((function(e,o){return ar("tr",null,ar(_.f,{spacing:"4"},ar(er.a,{checked:e.checked,onChange:function(n){$(e.cheked?e.cheked:n.target.checked,"checked",e.id,t,a)}})),ar(_.f,{spacing:"4"},o+1,"."),ar(_.f,{spacing:"4"},ar(Dn,{query:n,withoutLabel:!0,setCurrentRunNumber:function(n){$(n,"run_number",e.id,t,a)},current_run_number:e.run_number,current_dataset_name:e.dataset_name,withoutArrows:!0})),ar(_.f,{spacing:"4"},ar(En,{query:n,selectorWidth:"100%",setCurrentDataset:function(n){$(n,"dataset_name",e.id,t,a)},withoutArrows:!0,current_dataset_name:e.dataset_name,current_run_number:e.run_number})),ar(_.f,{spacing:"4"},ar(nr,{triples:t,change_run_details:a,removeRun:r,id:e.id,field_name:"label",placeholder:"label",defaultValue:e.label,value:e.label})),ar(_.f,{spacing:"4"},ar(_.v,{onClick:function(){r(e.id)},icon:ar(Qa,null)})))})))},or=r.a.createElement,lr=function(e){var t,n=e.overlaid_runs,r=e.query,o=Object(a.useContext)(se.b),l=o.runs_set_for_overlay,c=o.set_runs_set_for_overlay,i=o.setTriples,u=o.triples,d=Object(a.useState)(!1),f=d[0],b=d[1];return or(_.c,{style:{overflowX:"auto"}},or($a,{open:f,toggleModal:b,overlaid_runs:n,setTriples:i,triples:u,set_runs_set_for_overlay:c}),or(rr,{triples:u,query:r,change_run_details:function(e){return(t=e,function(){var e=Object(P.a)(k.a.mark((function e(n,a){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.filter((function(e){return e.checked})),e.next=3,Object(ee.a)(Object(ee.d)({overlay_data:"".concat(ae(r))},a));case 3:n(t);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())(i,r);var t},setTriples:i,remove_runs_to_set_runs_for_overlay:function(e){return function(e){return function(){var t=Object(P.a)(k.a.mark((function t(n,a,r){var o,l;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=Object(q.a)(n),-1!==(l=o.findIndex((function(t){return t.id===e})))&&(o.splice(l,1),Object(ee.a)(Object(ee.d)({overlay_data:"".concat(ae(o))},r)),a(o));case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}(e)(u,i,r)}}),or(qt.a,{justify:"space-between",style:{height:48,padding:8}},or(_.c,{position:"fixed",display:"flex"},or(_.b,{space:"2"},or(s.a,{title:(t=n.length>=4||l.length>=4,t?"Maximum 8 plots could be overlaid":"")},or(_.v,{disabled:n.length>=8||l.length>=8,onClick:function(){b(!0)},icon:or(Ga,null)},"SET RUNS"))))))},cr=n("jcFm"),ir=n.n(cr),ur=n("ZNjI"),sr=n("y65n"),dr=r.a.createElement,fr=function(e){e.normalize;var t,n=e.setNormalize,o=(e.stats,e.setStats),l=(e.error,e.setError),i=e.overlayPosition,s=e.setOverlaiPosition,d=e.triples,f=Object(c.useRouter)().query,b=[{label:"Normalize",value:"true"===f.normalize},{label:"Stats",value:"true"===f.stats},{label:"Error",value:"true"===f.error}],p=r.a.useState((t={},Object(C.a)(t,b[0].label.toLocaleLowerCase(),b[0].value),Object(C.a)(t,b[1].label.toLocaleLowerCase(),b[1].value),Object(C.a)(t,b[2].label.toLocaleLowerCase(),b[2].value),t)),m=Object(g.a)(p,2),h=m[0],v=m[1];return Object(a.useEffect)((function(){n(h[b[0].label.toLocaleLowerCase()]),o(h[b[1].label.toLocaleLowerCase()]),l(h[b[2].label.toLocaleLowerCase()])}),[h[b[0].label.toLocaleLowerCase()],h[b[1].label.toLocaleLowerCase()],h[b[2].label.toLocaleLowerCase()]]),dr(_.n,null,dr(_.e,null,dr(_.b,{space:"2"}),dr(_.b,{space:"2"},dr(ir.a,{name:"OverlayPosition",label:"Position:"},dr(Wa,{setOverlaiPosition:s,overlayPosition:i}))),b.map((function(e){return dr(_.b,{space:"2"},dr(ur.b,{space:"2",key:e.label},dr(sr.a,{option:e,setReference:v,reference:h})))})),dr(u.a,null)),dr(lr,{overlaid_runs:d,query:f}))},br=r.a.createElement,pr=function(e){var t=e.setSize,n=e.currentValue,r=e.disabled,o=e.plotsAreaWidth;return Object(a.useEffect)((function(){return function(){return t(n)}}),[]),br(cn,{disabled:r,current_value:n,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},action:function(e){if(e.w===M.f.fill.size.w&&e.h===M.f.fill.size.h){var n=e.w/e.h,a=Math.floor(o/n)-48;t({h:a,w:o-48})}else t(e)},options:Object.keys(M.f).map((function(e){return{label:M.f[e].label,value:M.f[e].size}}))})},mr=r.a.createElement,hr=Ba.a.Panel,vr=function(e){var t=e.selected_plots,n=e.plotsAreaWidth,r=Object(c.useRouter)().query,o=Object(a.useContext)(Sa.b),l=Object(a.useContext)(se.b),u=l.size,s=l.setSize,d=l.setTriples,f=l.normalize,b=l.setNormalize,p=l.stats,v=l.setStats,y=l.error,g=l.setError,O=l.overlayPosition,w=l.setOverlaiPosition,S=l.triples,E=o.setJSROOTmode,k=o.JSROOTmode,C=o.rightSideSize,P=o.setRightSideSize;return Object(a.useEffect)((function(){if(r&&r.overlay_data){var e=Q(r.overlay_data);d(e)}return function(){d([]),E(!1)}}),[]),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=Object(c.useRouter)().query,o=Object(ee.d)(e,r),l=m.a.stringify(o,{}),u="/"!==h.d?"".concat(h.d,"?").concat(l):void 0;a.useEffect((function(){n&&i.a.push({pathname:"",query:o},u)}),t)}({overlay:O,error:y,stats:p,normalize:f},[f,p,y,O],!0),mr(j.h,{style:{width:"100%"}},mr(hr,{header:"Options",key:"1"},mr(xt.a,null,mr(_.c,{display:"flex",justifycontent:"space-between",width:"100%"},mr(_.h,{name:"SizeChanger",label:"Left side size",width:"50%"},mr(pr,{plotsAreaWidth:n,currentValue:u,setSize:s})),mr(_.h,{name:"SizeChanger",label:"Right side size",width:"50%"},mr(pr,{plotsAreaWidth:n,currentValue:C,setSize:P,disabled:!t}))),mr("hr",null),mr(_.c,{display:"flex",justifycontent:"flex-end",width:"100%"},mr(_.h,{name:"Jsroot",label:"JSROOT",width:"50%",display:"flex",justifycontent:"flex-end"},mr(Fa.a,{style:{width:"fit-content"},checkedChildren:"JSROOT enabled",unCheckedChildren:"JSROOT disabled",disabled:!t,checked:k,onChange:function(e){E(e)}}))),mr("hr",null),mr(_.h,{name:"Reference",label:"Reference"},mr(fr,{normalize:f,setNormalize:b,stats:p,setStats:v,error:y,setError:g,overlayPosition:O,setOverlaiPosition:w,triples:S})))))},yr=n("8L4l"),gr=n("dTAC"),Or=[{label:"Summaries",workspaces:[{label:"Summary",foldersPath:["Summary"]},{label:"Shift",foldersPath:["00 Shift"]},{label:"Info",foldersPath:["Info"]},{label:"Everything",foldersPath:[]}]},{label:"Trigger",workspaces:[{label:"L1T",foldersPath:["L1T"]},{label:"L1TEMU",foldersPath:["L1TEMU"]},{label:"HLT",foldersPath:["HLT"]}]},{label:"Tracker",workspaces:[{label:"PixelPhase1",foldersPath:["PixelPhase1"]},{label:"Pixel",foldersPath:["Pixel"]},{label:"SiStrip",foldersPath:["SiStrip"]},{label:"Alignment",foldersPath:[]}]},{label:"Calorimeters",workspaces:[{label:"Ecal",foldersPath:["Ecal","EcalBarrel","EcalEndcap"]},{label:"EcalPreshower",foldersPath:["EcalPreshower"]},{label:"HCAL",foldersPath:["Hcal","Hcal2"]},{label:"HCALcalib",foldersPath:["HcalCalib"]},{label:"Castor",foldersPath:["Castor"]}]},{label:"Muons",workspaces:[{label:"CSC",foldersPath:["CSC"]},{label:"DT",foldersPath:["DT"]},{label:"RPC",foldersPath:["RPC"]}]},{label:"CTPPS",workspaces:[{label:"TrackingStrip",foldersPath:["CTPPS/TrackingStrip","CTPPS/common"]},{label:"TrackingPixel",foldersPath:["CTPPS/TrackingPixel","CTPPS/common"]},{label:"TimingDiamond",foldersPath:["CTPPS/TimingDiamond","CTPPS/common"]},{label:"TimingFastSilicon",foldersPath:["CTPPS/TimingFastSilicon","CTPPS/common"]}]},{label:"POG",workspaces:[{label:"Muons",foldersPath:["Muons"]},{label:"JetMet",foldersPath:["JetMet"]},{label:"EGamma",foldersPath:["Egamma"]},{label:"Btag",foldersPath:["Btag"]},{label:"Tracking",foldersPath:["Tracking","AlcaBeamMonitor","OfflinePV"]},{label:"Tau",foldersPath:["RecoTauV"]}]}],jr=function(e,t){var n=a.useState(e),r=Object(g.a)(n,2),o=r[0],l=r[1];return a.useEffect((function(){l(e)}),[e]),a.useEffect((function(){l(t)}),[t]),o};function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sr=function(e,t){var n=a.useState([]),r=Object(g.a)(n,2),o=r[0],l=r[1],i=a.useState([]),u=Object(g.a)(i,2),s=u[0],d=u[1],f=a.useContext(Et.b),p=(f.not_older_than,f.addLoader,a.useState([])),m=Object(g.a)(p,2),v=m[0],y=m[1],O=a.useState([]),j=Object(g.a)(O,2),_=j[0],w=j[1],S=a.useState(!1),E=Object(g.a)(S,2),k=E[0],C=E[1],P=a.useState(),x=Object(g.a)(P,2),R=(x[0],x[1]),T=Object(ee.b)(t),L=N(T,{},[],h.b.mode.onlineode),D=N(T,{},[e.folder_path,e.run_number,e.dataset_name,e.plot_search]),I=jr(D.data,L.data),z=jr(D.errors,L.errors);a.useEffect((function(){var e=Object(de.f)();R(e)}),[]),a.useEffect((function(){}),[k]);var M=Object(ee.e)(I),q=Object(ee.f)(M),H=function(e,t){var n=Object(a.useState)([]),r=n[0],o=n[1],l=Object(c.useRouter)().query;return Object(a.useEffect)((function(){var t=e.map((function(e){if(e.path){var t=Object(ee.j)(e),n=t.name,a=t.directories;return wr(wr({},e),{},{name:n,path:e.path&&a,layout:e.layout,qteststatuses:h.b.new_back_end.new_back_end?e.qteststatuses:e.qresults})}}));o(t||[])}),[t,l.dataset_name,l.run_number]),r}(M,I);a.useEffect((function(){y(Object(ee.f)(M)),w(b()(H))}),[I,e.folder_path,k,e.dataset_name,H]);var A=function(e,t){var n=a.useState([]),r=Object(g.a)(n,2),o=r[0],l=r[1],c=a.useState([]),i=Object(g.a)(c,2),u=i[0],s=i[1],d=[],f=e.workspaces,b=e.folder_path,p=e.plot_search;return a.useEffect((function(){Or.forEach((function(e){e.workspaces.forEach((function(e){e.label===f&&l(e.foldersPath)}))}))}),[f]),a.useEffect((function(){if(f&&!b){var e=K.a.uniq(o.map((function(e){return e.split("/")[0]}))).map((function(e){return{subdir:e}}));s(e)}else if(f&&b){o.forEach((function(e){var t=Object(gr.a)(b),n=e.search(t);if(n>=0){var a=n+t.length,r=e.substring(a,e.length).split("/")[1];r&&d.push(r)}}));var t=d.map((function(e){return{subdir:e}}));s(t)}}),[b,o,p]),{filteredFolders:u}}(e).filteredFolders;return a.useEffect((function(){d(q)}),[e.dataset_name,e.run_number,JSON.stringify(q)]),a.useEffect((function(){var e=A.length>0?A:s,t=Object(ee.g)(v,e),n=D.isLoading;C(n),l(t)}),[v,A,s,z]),{foldersByPlotSearch:o,plots:_,isLoading:k,errors:z}},Er=a.createElement,kr=function(e){var t=e.viewPlotsPosition,n=e.setViewPlotsPosition,a=e.disabled;return Er(cn,{options:M.g,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},current_value:t,action:n,disabled:a})},Cr=a.createElement,Pr=function(e){var t=e.proportion,n=e.setProportion,a=e.disabled;return Cr(cn,{options:M.d,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},current_value:t,disabled:a,action:n})},xr=n("+YFz"),Rr=a.createElement,Tr=function(e){return e?Rr(s.a,{title:"At least one plot must be selected"},Rr(xr.a,null)):Rr(a.Fragment,null)},Lr=a.createElement,Nr=function(e){var t=e.openSettings,n=e.toggleSettingsModal,r=e.isAnyPlotSelected,o=a.useContext(qa.b),l=o.viewPlotsPosition,c=o.setViewPlotsPosition,i=o.proportion,s=o.setProportion;return Lr(j.i,{title:"Settings",visible:t,onCancel:function(){return n(!1)},footer:null},Lr(rn.a,null,Lr(_.p,{name:"position",label:"Plots View Position",labelweight:"bold"},Lr(_.e,{display:"flex",justifycontent:"space-between"},Lr(u.a,null,Lr(kr,{viewPlotsPosition:l,setViewPlotsPosition:c,disabled:r})),Lr(u.a,null,Tr(r)))),Lr(_.p,{name:"proportions",label:"Plots View Proportions",labelweight:"bold"},Lr(qt.a,null,Lr(u.a,null,Lr(Pr,{proportion:i,setProportion:s,disabled:r})),Lr(u.a,null,Tr(r))))))},Dr=a.createElement,Ir=function(e){var t=e.me_count,n=e.children;return h.b.new_back_end.new_back_end?Dr(_.g,{count:t},n):n},zr=function(e){var t=e.directories,n=e.isLoading,r=Object(c.useRouter)().query;return Dr(a.Fragment,null,t.map((function(e){return Dr(u.a,{span:4,key:e.subdir},Dr(_n.b,null,Dr(_.c,{hover:"true",display:"flex",space:"1",alignitems:"center",onClick:function(){return!n&&Object(ee.a)(Object(ee.d)({folder_path:Object(ee.i)(r.folder_path,e.subdir)},r))}},Dr(Ir,{me_count:e.me_count?e.me_count:0},Dr(_n.d,{isLoading:n.toString()})),Dr(_n.i,null,e.subdir))))})))};function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hr=function(e){var t=e.overlays.map((function(t){var n=t.split("/"),a=n.pop(),r=n.join("/");return{run_number:e.run_number,dataset_name:e.dataset_name,folders_path:r,plot_name:a}}));return Object(D.c)({overlay_plot:t}).join("")},Ar=a.createElement,Br=function(e){var t=e.query,n=e.plot,r=e.onePlotHeight,o=e.onePlotWidth,l=e.selected_plots,c=e.imageRef,i=a.useContext(qa.b).imageRefScrollDown,u=a.useContext(se.b),d=re(u,t,encodeURIComponent(n.name),n.path);d.width=o,d.height=r;var f=function(e){if(e.draw&&e.overlays){var t=Hr(e);return{customise:qr({},e.draw),overlaidWithLayoutsConfig:t}}return!e.draw&&e.overlays?{overlaidWithLayoutsConfig:Hr(e)}:e.draw&&!e.overlays?{customise:qr({},e.draw)}:{}}(n);Object.keys(f).forEach((function(e){d[e]=f[e]}));var b=Object(Qn.b)(d),p=Object(D.c)(d),m=(d.overlaidWithLayoutsConfig?[d.overlaidWithLayoutsConfig].concat(p):p).join("");d.joined_overlaied_plots_urls=m;var h=Object(Qn.a)(d);n.dataset_name=t.dataset_name,n.run_number=t.run_number;var v=Object(ee.l)(l,n),y=n.path+"/"+n.name;return Ar(s.a,{title:y,color:ue(n)?"red":""},Ar(ia.f,{height:"".concat(r,"px"),width:"".concat(o,"px"),plotSelected:v,onClick:Object(P.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v;case 2:setTimeout((function(){ce(c),ie(i)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:c},t.overlay_data||d.overlaidWithLayoutsConfig?Ar(va,{params_for_api:d,plot:n,plotURL:h,query:t,imageRef:c,isPlotSelected:v}):Ar(va,{params_for_api:d,plot:n,plotURL:b,query:t,imageRef:c,isPlotSelected:v})))},Fr=a.createElement,Vr=function(e){var t=e.plots,n=e.layoutName,r=e.query,o=e.selected_plots,l=a.useContext(se.b).size,c=a.useState(n),i=Object(g.a)(c,2),u=i[0],d=i[1],f=a.useState(!1),b=Object(g.a)(f,2),p=b[0],m=b[1],h=a.useState(0),v=Object(g.a)(h,2),y=v[0],O=v[1],j=a.useRef(null),_=a.useRef(null);a.useEffect((function(){d(n)}),[n]);var w,S=Math.ceil(Math.log(2)/Math.log(t.length))-Math.log(2)/Math.log(t.length)!==0&&1!==t.length?t.length+Math.ceil(Math.sqrt(t.length)):Math.pow(t.length,2),E=l.h*l.w,k=l.w/l.h,C=E/S,P=Math.floor(Math.sqrt(C/k)),x=Math.floor(Math.sqrt(C/k)*k),R=Math.floor(l.w/x),T=[];for(w=0;w<R;w++)T.push("auto");return a.useEffect((function(){O(y+1),j.current&&y<3&&m(j.current.clientHeight>24)}),[j.current&&j.current.clientHeight]),Fr(ia.c,{plotsAmount:t.length,size:l},Fr(s.a,{title:u},Fr(ia.a,{ref:j},Object(de.a)(p,u||""))),Fr(ia.b,{auto:T.join(" ")},t.map((function(e){return Fr(Br,{query:r,plot:e,onePlotHeight:P,onePlotWidth:x,selected_plots:o,imageRef:_})}))))},Ur=a.createElement,Wr=function(e){var t=e.plots_grouped_by_layouts,n=e.selected_plots,r=e.query,o=Object.keys(t).sort();return Ur(a.Fragment,null,o.map((function(e){var a=t[e].sort((function(e,t){return e.path.localeCompare(t.path)}));return Ur(Vr,{layoutName:e,plots:a,selected_plots:n,query:r})})))},Jr=r.a.createElement,Kr=function(e){var t=e.plot,n=e.selected_plots,o=e.params_for_api,l=Object(c.useRouter)().query,i=Object(a.useRef)(null),u={w:o.width,h:o.height},d=r.a.useRef(null),f=r.a.useState(0),b=Object(g.a)(f,2),p=b[0],m=b[1],h=r.a.useState(!1),v=Object(g.a)(h,2),y=v[0],O=v[1],j=Object(Qn.b)(o),_=Object(ee.l)(n,t),w=Object(a.useContext)(qa.b).imageRefScrollDown;return Object(a.useEffect)((function(){_&&(ce(i),ie(w))}),[_,l.selected_plots]),r.a.useEffect((function(){m(p+1),d.current&&p<3&&O(d.current.clientHeight>24)}),[d.current&&d.current.clientHeight]),t.dataset_name=l.dataset_name,t.run_number=l.run_number,Jr(s.a,{title:y?decodeURI(o.plot_name):""},Jr(ia.c,{size:u,isPlotSelected:_.toString()},Jr(ia.a,{ref:d,isPlotSelected:_.toString(),error:ue(t).toString()},Object(de.a)(y,o.plot_name?o.plot_name:"")),Jr(ia.b,{auto:"auto"},Jr(ia.f,{plotSelected:_,onClick:Object(P.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_;case 2:setTimeout((function(){ce(i),ie(w)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:i},Jr(va,{params_for_api:o,plot:t,plotURL:j,query:l,imageRef:i,isPlotSelected:_})))))};function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yr=r.a.createElement,Qr=function(e){var t=e.plot,n=e.params_for_api,o=e.selected_plots;n.plot_name=t.name;var l=function(e){var t=[],n=Xr({},e);return t.push(Object(Qn.b)(n)),n.overlay_plot&&n.overlay_plot.map((function(a){n.dataset_name=a.dataset_name?a.dataset_name:e.dataset_name,n.run_number=a.run_number,t.push(Object(Qn.b)(n))})),t}(n),i=function(e){var t=[],n=Xr({},e),a={name:e.plot_name,dataset_name:e.dataset_name,path:e.folders_path,run_number:e.run_number};return t.push(a),n.overlay_plot&&n.overlay_plot.map((function(n){var a=n.run_number,r=n.dataset_name,o={run_number:a,name:e.plot_name,dataset_name:r,path:e.folders_path};t.push(o)})),t}(n),u={w:n.width,h:n.height},d=Object(a.useContext)(qa.b).imageRefScrollDown,f=Object(c.useRouter)().query,b=Object(a.useRef)(null),p=r.a.useRef(null),m=r.a.useState(0),v=Object(g.a)(m,2),y=v[0],O=v[1],j=r.a.useState(!1),_=Object(g.a)(j,2),w=_[0],S=_[1];return r.a.useEffect((function(){O(y+1),p.current&&y<3&&S(p.current.clientHeight>24)}),[p.current&&p.current.clientHeight]),t.dataset_name=f.dataset_name,t.run_number=f.run_number,Yr(_n.g,null,l.map((function(e,a){var r=Object(ee.l)(o,i[a]);return Yr(s.a,{title:w?decodeURI(n.plot_name):""},Yr(ia.c,{isPlotSelected:r.toString(),animation:("ONLINE"===h.b.mode).toString(),size:u},Yr(ia.a,{ref:p,isPlotSelected:ee.l.toString(),error:ue(t).toString()},Object(de.a)(w,n.plot_name?n.plot_name:"")),Yr(ia.b,{auto:"auto"},Yr(ia.f,{plotSelected:r,onClick:Object(P.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:setTimeout((function(){ce(b),ie(d)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:b},Yr(va,{params_for_api:n,plot:i[a],plotURL:e,query:f,imageRef:b,isPlotSelected:r})))))})))},Zr=r.a.createElement,$r=function(e){var t=e.plot,n=e.params_for_api,o=e.selected_plots;n.plot_name=t.name;var l={w:n.width,h:n.height},i=Object(a.useContext)(qa.b).imageRefScrollDown,u=Object(D.c)(n),d=(n.overlaidWithLayoutsConfig?[n.overlaidWithLayoutsConfig].concat(u):u).join("");n.joined_overlaied_plots_urls=d;var f=Object(Qn.a)(n),b=Object(c.useRouter)().query,p=Object(a.useRef)(null);t.dataset_name=b.dataset_name,t.run_number=b.run_number;var m=r.a.useRef(null),h=r.a.useState(0),v=Object(g.a)(h,2),y=v[0],O=v[1],j=r.a.useState(!1),_=Object(g.a)(j,2),w=_[0],S=_[1];r.a.useEffect((function(){O(y+1),m.current&&y<3&&S(m.current.clientHeight>24)}),[m.current&&m.current.clientHeight]);var E=Object(ee.l)(o,t);return Zr(s.a,{title:w?decodeURI(n.plot_name):""},Zr(ia.c,{size:l,isPlotSelected:E.toString()},Zr(ia.a,{ref:m,error:ue(t).toString(),isPlotSelected:E.toString()}," ",Object(de.a)(w,n.plot_name?n.plot_name:"")),Zr(ia.b,{auto:"auto"},Zr(ia.f,{plotSelected:E,onClick:Object(P.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E;case 2:setTimeout((function(){ce(p),ie(i)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:p},Zr(va,{params_for_api:n,plot:t,plotURL:f,query:b,imageRef:p,isPlotSelected:E})))))},eo=r.a.createElement,to=function(e){var t=e.plot,n=e.selected_plots,a=e.params_for_api;return eo(r.a.Fragment,null,"onSide"===a.overlay?eo(Qr,{params_for_api:a,plot:t,selected_plots:n}):eo($r,{plot:t,params_for_api:a,selected_plots:n}))},no=r.a.createElement,ao=function(e){var t=e.plots,n=e.selected_plots,o=e.query,l=Object(a.useContext)(se.b);return no(r.a.Fragment,null,t.map((function(e){var t=re(l,o,encodeURIComponent(e.name),e.path);return e?no("div",{key:e.name},o.overlay_data?no(to,{key:e.name,plot:e,params_for_api:t,selected_plots:n}):no(Kr,{plot:e,params_for_api:t,key:e.name,selected_plots:n})):no(r.a.Fragment,null)})))},ro=r.a.createElement,oo=function(e){var t=e.plots,n=e.selected_plots,a=e.plots_grouped_by_layouts,o=a||{},l=Object(c.useRouter)().query;return t.length>0?ro(r.a.Fragment,null,h.b.new_back_end.layouts&&0!==Object.keys(o).length?ro(Wr,{plots_grouped_by_layouts:o,selected_plots:n,query:l}):ro(ao,{plots:t,selected_plots:n,query:l})):ro(r.a.Fragment,null)},lo=a.createElement,co=function(e){var t=e.plots,n=e.selected_plots,r=e.plots_grouped_by_layouts,o=e.isLoading,l=e.viewPlotsPosition,c=e.proportion,i=e.errors,u=e.query,s=e.filteredFolders,d=e.plotsAreaRef;return lo(_n.m,{ref:d,any_selected_plots:n.length>0&&0===i.length,position:l,proportion:c},y({run_number:u.run_number,dataset_name:u.dataset_name})&&o&&0===s.length||!y({run_number:u.run_number,dataset_name:u.dataset_name})&&o?lo(Mt.k,null,lo(Mt.j,null)):lo(a.Fragment,null,o||0!==s.length||0!==t.length||0!==i.length?0===i.length?lo(a.Fragment,null,lo(_.e,{width:"100%",space:"2"},lo(zr,{isLoading:o,directories:s})),lo(qt.a,null,lo(oo,{plots:t,selected_plots:n,plots_grouped_by_layouts:r}))):!o&&i.length>0&&i.map((function(e){return lo(Mt.m,y?{type:"info",message:"Informational Notes",description:"No data to show",showIcon:!0}:{key:e,message:e,type:"error",showIcon:!0})})):lo(Bt.a,null)))},io={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},uo=function(e,t){return a.createElement(ze.a,Object.assign({},e,{ref:t,icon:io}))};uo.displayName="BulbOutlined";var so=a.forwardRef(uo),fo=a.createElement,bo=fo(In.a,null,fo(In.a.Item,null,fo("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cmsrunregistry.web.cern.ch/online/global?"},"Run Registry")),fo(In.a.Item,null,fo("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cmsoms.cern.ch/"},"OMS")),fo(In.a.Item,null,fo("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cmsonline.cern.ch/"},"CMS online"))),po=function(){return fo(zn.a,{overlay:bo,placement:"bottomCenter",arrow:!0},fo(_.v,{icon:fo(so,null)},"Useful Links"))},mo=n("VTBJ"),ho=n("5Z9U"),vo=n("6cGi"),yo=n("wgJM");function go(e){var t=Object(a.useRef)(),n=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return function(){n.current=!0,yo.a.cancel(t.current)}}),[]),function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];n.current||(yo.a.cancel(t.current),t.current=Object(yo.a)((function(){e.apply(void 0,r)})))}}function Oo(e,t){var n,r=e.prefixCls,o=e.id,l=e.active,c=e.rtl,i=e.tab,u=i.key,s=i.tab,d=i.disabled,f=i.closeIcon,b=e.tabBarGutter,p=e.tabPosition,m=e.closable,h=e.renderWrapper,v=e.removeAriaLabel,y=e.editable,g=e.onClick,O=e.onRemove,j=e.onFocus,_="".concat(r,"-tab");a.useEffect((function(){return O}),[]);var w={};"top"===p||"bottom"===p?w[c?"marginLeft":"marginRight"]=b:w.marginBottom=b;var S=y&&!1!==m&&!d;function E(e){d||g(e)}var k=a.createElement("div",{key:u,ref:t,className:ye()(_,(n={},Object(C.a)(n,"".concat(_,"-with-remove"),S),Object(C.a)(n,"".concat(_,"-active"),l),Object(C.a)(n,"".concat(_,"-disabled"),d),n)),style:w,onClick:E},a.createElement("div",{role:"tab","aria-selected":l,id:o&&"".concat(o,"-tab-").concat(u),className:"".concat(_,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(u),"aria-disabled":d,tabIndex:d?null:0,onClick:function(e){e.stopPropagation(),E(e)},onKeyDown:function(e){[Je.a.SPACE,Je.a.ENTER].includes(e.which)&&(e.preventDefault(),E(e))},onFocus:j},s),S&&a.createElement("button",{type:"button","aria-label":v||"remove",tabIndex:0,className:"".concat(_,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),y.onEdit("remove",{key:u,event:t})}},f||y.removeIcon||"\xd7"));return h&&(k=h(k)),k}var jo=a.forwardRef(Oo),_o={width:0,height:0,left:0,top:0};var wo={width:0,height:0,left:0,top:0,right:0};var So=n("1j5w"),Eo=n("eDIo");function ko(e,t){var n=e.prefixCls,r=e.editable,o=e.locale,l=e.style;return r&&!1!==r.showAdd?a.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:l,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}var Co=a.forwardRef(ko);function Po(e,t){var n=e.prefixCls,r=e.id,o=e.tabs,l=e.locale,c=e.mobile,i=e.moreIcon,u=void 0===i?"More":i,s=e.moreTransitionName,d=e.style,f=e.className,b=e.editable,p=e.tabBarGutter,m=e.rtl,h=e.onTabClick,v=Object(a.useState)(!1),y=Object(g.a)(v,2),O=y[0],j=y[1],_=Object(a.useState)(null),w=Object(g.a)(_,2),S=w[0],E=w[1],k="".concat(r,"-more-popup"),P="".concat(n,"-dropdown"),x=null!==S?"".concat(k,"-").concat(S):null,R=null===l||void 0===l?void 0:l.dropdownAriaLabel,T=a.createElement(So.f,{onClick:function(e){var t=e.key,n=e.domEvent;h(t,n),j(!1)},id:k,tabIndex:-1,role:"listbox","aria-activedescendant":x,selectedKeys:[S],"aria-label":void 0!==R?R:"expanded dropdown"},o.map((function(e){return a.createElement(So.d,{key:e.key,id:"".concat(k,"-").concat(e.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(e.key),disabled:e.disabled},e.tab)})));function L(e){for(var t=o.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===S}))||0,a=t.length,r=0;r<a;r+=1){var l=t[n=(n+e+a)%a];if(!l.disabled)return void E(l.key)}}Object(a.useEffect)((function(){var e=document.getElementById(x);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[S]),Object(a.useEffect)((function(){O||E(null)}),[O]);var N=Object(C.a)({},m?"marginLeft":"marginRight",p);o.length||(N.visibility="hidden",N.order=1);var D=ye()(Object(C.a)({},"".concat(P,"-rtl"),m)),I=c?null:a.createElement(Eo.a,{prefixCls:P,overlay:T,trigger:["hover"],visible:O,transitionName:s,onVisibleChange:j,overlayClassName:D,mouseEnterDelay:.1,mouseLeaveDelay:.1},a.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:N,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":k,id:"".concat(r,"-more"),"aria-expanded":O,onKeyDown:function(e){var t=e.which;if(O)switch(t){case Je.a.UP:L(-1),e.preventDefault();break;case Je.a.DOWN:L(1),e.preventDefault();break;case Je.a.ESC:j(!1);break;case Je.a.SPACE:case Je.a.ENTER:null!==S&&h(S,e)}else[Je.a.DOWN,Je.a.SPACE,Je.a.ENTER].includes(t)&&(j(!0),e.preventDefault())}},u));return a.createElement("div",{className:ye()("".concat(n,"-nav-operations"),f),style:d,ref:t},I,a.createElement(Co,{prefixCls:n,locale:l,editable:b}))}var xo=a.forwardRef(Po),Ro=Object(a.createContext)(null),To=Math.pow(.995,20);function Lo(e,t){var n=a.useRef(e),r=a.useState({}),o=Object(g.a)(r,2)[1];return[n.current,function(e){var a="function"===typeof e?e(n.current):e;a!==n.current&&t(a,n.current),n.current=a,o({})}]}var No=function(e){var t,n=e.position,r=e.prefixCls,o=e.extra;if(!o)return null;var l=o;return"right"===n&&(t=l.right||!l.left&&l||null),"left"===n&&(t=l.left||null),t?a.createElement("div",{className:"".concat(r,"-extra-content")},t):null};function Do(e,t){var n,r=a.useContext(Ro),o=r.prefixCls,l=r.tabs,c=e.className,i=e.style,u=e.id,s=e.animated,d=e.activeKey,f=e.rtl,b=e.extra,p=e.editable,m=e.locale,h=e.tabPosition,v=e.tabBarGutter,y=e.children,O=e.onTabClick,j=e.onTabScroll,_=Object(a.useRef)(),w=Object(a.useRef)(),S=Object(a.useRef)(),E=Object(a.useRef)(),k=function(){var e=Object(a.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,a.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),P=Object(g.a)(k,2),x=P[0],R=P[1],T="top"===h||"bottom"===h,L=Lo(0,(function(e,t){T&&j&&j({direction:e>t?"left":"right"})})),N=Object(g.a)(L,2),D=N[0],I=N[1],z=Lo(0,(function(e,t){!T&&j&&j({direction:e>t?"top":"bottom"})})),M=Object(g.a)(z,2),H=M[0],A=M[1],B=Object(a.useState)(0),F=Object(g.a)(B,2),V=F[0],U=F[1],W=Object(a.useState)(0),J=Object(g.a)(W,2),K=J[0],G=J[1],X=Object(a.useState)(0),Y=Object(g.a)(X,2),Q=Y[0],Z=Y[1],$=Object(a.useState)(0),ee=Object(g.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(null),re=Object(g.a)(ae,2),oe=re[0],le=re[1],ce=Object(a.useState)(null),ie=Object(g.a)(ce,2),ue=ie[0],se=ie[1],de=Object(a.useState)(0),fe=Object(g.a)(de,2),be=fe[0],pe=fe[1],me=Object(a.useState)(0),ve=Object(g.a)(me,2),ge=ve[0],Oe=ve[1],je=function(e){var t=Object(a.useRef)([]),n=Object(a.useState)({}),r=Object(g.a)(n,2)[1],o=Object(a.useRef)("function"===typeof e?e():e),l=go((function(){var e=o.current;t.current.forEach((function(t){e=t(e)})),t.current=[],o.current=e,r({})}));return[o.current,function(e){t.current.push(e),l()}]}(new Map),_e=Object(g.a)(je,2),we=_e[0],Se=_e[1],Ee=function(e,t,n){return Object(a.useMemo)((function(){for(var n,a=new Map,r=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||_o,o=r.left+r.width,l=0;l<e.length;l+=1){var c,i=e[l].key,u=t.get(i);u||(u=t.get(null===(c=e[l-1])||void 0===c?void 0:c.key)||_o);var s=a.get(i)||Object(mo.a)({},u);s.right=o-s.left-s.width,a.set(i,s)}return a}),[e.map((function(e){return e.key})).join("_"),t,n])}(l,we,V),ke="".concat(o,"-nav-operations-hidden"),Ce=0,Pe=0;function xe(e){return e<Ce?Ce:e>Pe?Pe:e}T?f?(Ce=0,Pe=Math.max(0,V-oe)):(Ce=Math.min(0,oe-V),Pe=0):(Ce=Math.min(0,ue-K),Pe=0);var Re=Object(a.useRef)(),Te=Object(a.useState)(),Le=Object(g.a)(Te,2),Ne=Le[0],De=Le[1];function Ie(){De(Date.now())}function ze(){window.clearTimeout(Re.current)}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=Ee.get(e)||{width:0,height:0,left:0,right:0,top:0};if(T){var n=D;f?t.right<D?n=t.right:t.right+t.width>D+oe&&(n=t.right+t.width-oe):t.left<-D?n=-t.left:t.left+t.width>-D+oe&&(n=-(t.left+t.width-oe)),A(0),I(xe(n))}else{var a=H;t.top<-H?a=-t.top:t.top+t.height>-H+ue&&(a=-(t.top+t.height-ue)),I(0),A(xe(a))}}!function(e,t){var n=Object(a.useState)(),r=Object(g.a)(n,2),o=r[0],l=r[1],c=Object(a.useState)(0),i=Object(g.a)(c,2),u=i[0],s=i[1],d=Object(a.useState)(0),f=Object(g.a)(d,2),b=f[0],p=f[1],m=Object(a.useState)(),h=Object(g.a)(m,2),v=h[0],y=h[1],O=Object(a.useRef)(),j=Object(a.useRef)(),_=Object(a.useRef)(null);_.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,a=t.screenY;l({x:n,y:a}),window.clearInterval(O.current)},onTouchMove:function(e){if(o){e.preventDefault();var n=e.touches[0],a=n.screenX,r=n.screenY;l({x:a,y:r});var c=a-o.x,i=r-o.y;t(c,i);var d=Date.now();s(d),p(d-u),y({x:c,y:i})}},onTouchEnd:function(){if(o&&(l(null),y(null),v)){var e=v.x/b,n=v.y/b,a=Math.abs(e),r=Math.abs(n);if(Math.max(a,r)<.1)return;var c=e,i=n;O.current=window.setInterval((function(){Math.abs(c)<.01&&Math.abs(i)<.01?window.clearInterval(O.current):t(20*(c*=To),20*(i*=To))}),20)}},onWheel:function(e){var n=e.deltaX,a=e.deltaY,r=0,o=Math.abs(n),l=Math.abs(a);o===l?r="x"===j.current?n:a:o>l?(r=n,j.current="x"):(r=a,j.current="y"),t(-r,-r)&&e.preventDefault()}},a.useEffect((function(){function t(e){_.current.onTouchMove(e)}function n(e){_.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){_.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){_.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(_,(function(e,t){function n(e,t){e((function(e){return xe(e+t)}))}if(T){if(oe>=V)return!1;n(I,e)}else{if(ue>=K)return!1;n(A,t)}return ze(),Ie(),!0})),Object(a.useEffect)((function(){return ze(),Ne&&(Re.current=window.setTimeout((function(){De(0)}),100)),ze}),[Ne]);var qe=function(e,t,n,r,o){var l,c,i,u=o.tabs,s=o.tabPosition,d=o.rtl;["top","bottom"].includes(s)?(l="width",c=d?"right":"left",i=Math.abs(t.left)):(l="height",c="top",i=-t.top);var f=t[l],b=n[l],p=r[l],m=f;return b+p>f&&(m=f-p),Object(a.useMemo)((function(){if(!u.length)return[0,0];for(var t=u.length,n=t,a=0;a<t;a+=1){var r=e.get(u[a].key)||wo;if(r[c]+r[l]>i+m){n=a-1;break}}for(var o=0,s=t-1;s>=0;s-=1)if((e.get(u[s].key)||wo)[c]<i){o=s+1;break}return[o,n]}),[e,i,m,s,u.map((function(e){return e.key})).join("_"),d])}(Ee,{width:oe,height:ue,left:D,top:H},{width:Q,height:te},{width:be,height:ge},Object(mo.a)(Object(mo.a)({},e),{},{tabs:l})),He=Object(g.a)(qe,2),Ae=He[0],Be=He[1],Fe=l.map((function(e){var t=e.key;return a.createElement(jo,{id:u,prefixCls:o,key:t,rtl:f,tab:e,closable:e.closable,editable:p,active:t===d,tabPosition:h,tabBarGutter:v,renderWrapper:y,removeAriaLabel:null===m||void 0===m?void 0:m.removeAriaLabel,ref:x(t),onClick:function(e){O(t,e)},onRemove:function(){R(t)},onFocus:function(){Me(t),Ie(),f||(_.current.scrollLeft=0),_.current.scrollTop=0}})})),Ue=go((function(){var e,t,n,a,r,o,c,i,u,s=(null===(e=_.current)||void 0===e?void 0:e.offsetWidth)||0,d=(null===(t=_.current)||void 0===t?void 0:t.offsetHeight)||0,f=(null===(n=E.current)||void 0===n?void 0:n.offsetWidth)||0,b=(null===(a=E.current)||void 0===a?void 0:a.offsetHeight)||0,p=(null===(r=S.current)||void 0===r?void 0:r.offsetWidth)||0,m=(null===(o=S.current)||void 0===o?void 0:o.offsetHeight)||0;le(s),se(d),pe(f),Oe(b);var h=((null===(c=w.current)||void 0===c?void 0:c.offsetWidth)||0)-f,v=((null===(i=w.current)||void 0===i?void 0:i.offsetHeight)||0)-b;U(h),G(v);var y=null===(u=S.current)||void 0===u?void 0:u.className.includes(ke);Z(h-(y?0:p)),ne(v-(y?0:m)),Se((function(){var e=new Map;return l.forEach((function(t){var n=t.key,a=x(n).current;a&&e.set(n,{width:a.offsetWidth,height:a.offsetHeight,left:a.offsetLeft,top:a.offsetTop})})),e}))})),We=l.slice(0,Ae),Je=l.slice(Be+1),Ke=[].concat(Object(q.a)(We),Object(q.a)(Je)),Ge=Object(a.useState)(),Xe=Object(g.a)(Ge,2),Ye=Xe[0],Qe=Xe[1],Ze=Ee.get(d),$e=Object(a.useRef)();function et(){yo.a.cancel($e.current)}Object(a.useEffect)((function(){var e={};return Ze&&(T?(f?e.right=Ze.right:e.left=Ze.left,e.width=Ze.width):(e.top=Ze.top,e.height=Ze.height)),et(),$e.current=Object(yo.a)((function(){Qe(e)})),et}),[Ze,T,f]),Object(a.useEffect)((function(){Me()}),[d,Ze,Ee,T]),Object(a.useEffect)((function(){Ue()}),[f,v,d,l.map((function(e){return e.key})).join("_")]);var tt,nt,at,rt,ot=!!Ke.length,lt="".concat(o,"-nav-wrap");return T?f?(nt=D>0,tt=D+oe<V):(tt=D<0,nt=-D+oe<V):(at=H<0,rt=-H+ue<K),a.createElement("div",{ref:t,role:"tablist",className:ye()("".concat(o,"-nav"),c),style:i,onKeyDown:function(){Ie()}},a.createElement(No,{position:"left",extra:b,prefixCls:o}),a.createElement(Ve.a,{onResize:Ue},a.createElement("div",{className:ye()(lt,(n={},Object(C.a)(n,"".concat(lt,"-ping-left"),tt),Object(C.a)(n,"".concat(lt,"-ping-right"),nt),Object(C.a)(n,"".concat(lt,"-ping-top"),at),Object(C.a)(n,"".concat(lt,"-ping-bottom"),rt),n)),ref:_},a.createElement(Ve.a,{onResize:Ue},a.createElement("div",{ref:w,className:"".concat(o,"-nav-list"),style:{transform:"translate(".concat(D,"px, ").concat(H,"px)"),transition:Ne?"none":void 0}},Fe,a.createElement(Co,{ref:E,prefixCls:o,locale:m,editable:p,style:{visibility:ot?"hidden":null}}),a.createElement("div",{className:ye()("".concat(o,"-ink-bar"),Object(C.a)({},"".concat(o,"-ink-bar-animated"),s.inkBar)),style:Ye}))))),a.createElement(xo,Object(he.a)({},e,{ref:S,prefixCls:o,tabs:Ke,className:!ot&&ke})),a.createElement(No,{position:"right",extra:b,prefixCls:o}))}var Io=a.forwardRef(Do);function zo(e){var t=e.id,n=e.activeKey,r=e.animated,o=e.tabPosition,l=e.rtl,c=e.destroyInactiveTabPane,i=a.useContext(Ro),u=i.prefixCls,s=i.tabs,d=r.tabPane,f=s.findIndex((function(e){return e.key===n}));return a.createElement("div",{className:ye()("".concat(u,"-content-holder"))},a.createElement("div",{className:ye()("".concat(u,"-content"),"".concat(u,"-content-").concat(o),Object(C.a)({},"".concat(u,"-content-animated"),d)),style:f&&d?Object(C.a)({},l?"marginRight":"marginLeft","-".concat(f,"00%")):null},s.map((function(e){return a.cloneElement(e.node,{key:e.key,prefixCls:u,tabKey:e.key,id:t,animated:d,active:e.key===n,destroyInactiveTabPane:c})}))))}function Mo(e){var t=e.prefixCls,n=e.forceRender,r=e.className,o=e.style,l=e.id,c=e.active,i=e.animated,u=e.destroyInactiveTabPane,s=e.tabKey,d=e.children,f=a.useState(n),b=Object(g.a)(f,2),p=b[0],m=b[1];a.useEffect((function(){c?m(!0):u&&m(!1)}),[c,u]);var h={};return c||(i?(h.visibility="hidden",h.height=0,h.overflowY="hidden"):h.display="none"),a.createElement("div",{id:l&&"".concat(l,"-panel-").concat(s),role:"tabpanel",tabIndex:c?0:-1,"aria-labelledby":l&&"".concat(l,"-tab-").concat(s),"aria-hidden":!c,style:Object(mo.a)(Object(mo.a)({},h),o),className:ye()("".concat(t,"-tabpane"),c&&"".concat(t,"-tabpane-active"),r)},(c||p||n)&&d)}var qo=0;function Ho(e,t){var n,r,o=e.id,l=e.prefixCls,c=void 0===l?"rc-tabs":l,i=e.className,u=e.children,s=e.direction,d=e.activeKey,f=e.defaultActiveKey,b=e.editable,p=e.animated,m=void 0===p?{inkBar:!0,tabPane:!1}:p,h=e.tabPosition,v=void 0===h?"top":h,y=e.tabBarGutter,O=e.tabBarStyle,j=e.tabBarExtraContent,_=e.locale,w=e.moreIcon,S=e.moreTransitionName,E=e.destroyInactiveTabPane,k=e.renderTabBar,P=e.onChange,x=e.onTabClick,R=e.onTabScroll,T=Object(Zn.a)(e,["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"]),L=function(e){return Object(Te.a)(e).map((function(e){if(a.isValidElement(e)){var t=void 0!==e.key?String(e.key):void 0;return Object(mo.a)(Object(mo.a)({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}(u),N="rtl"===s;r=!1===m?{inkBar:!1,tabPane:!1}:!0===m?{inkBar:!0,tabPane:!0}:Object(mo.a)({inkBar:!0,tabPane:!1},"object"===Object(ke.a)(m)?m:{});var D=Object(a.useState)(!1),I=Object(g.a)(D,2),z=I[0],M=I[1];Object(a.useEffect)((function(){M(Object(ho.a)())}),[]);var q=Object(vo.a)((function(){var e;return null===(e=L[0])||void 0===e?void 0:e.key}),{value:d,defaultValue:f}),H=Object(g.a)(q,2),A=H[0],B=H[1],F=Object(a.useState)((function(){return L.findIndex((function(e){return e.key===A}))})),V=Object(g.a)(F,2),U=V[0],W=V[1];Object(a.useEffect)((function(){var e,t=L.findIndex((function(e){return e.key===A}));-1===t&&(t=Math.max(0,Math.min(U,L.length-1)),B(null===(e=L[t])||void 0===e?void 0:e.key));W(t)}),[L.map((function(e){return e.key})).join("_"),A,U]);var J=Object(vo.a)(null,{value:o}),K=Object(g.a)(J,2),G=K[0],X=K[1],Y=v;z&&!["left","right"].includes(v)&&(Y="top"),Object(a.useEffect)((function(){o||(X("rc-tabs-".concat(qo)),qo+=1)}),[]);var Q,Z={id:G,activeKey:A,animated:r,tabPosition:Y,rtl:N,mobile:z},$=Object(mo.a)(Object(mo.a)({},Z),{},{editable:b,locale:_,moreIcon:w,moreTransitionName:S,tabBarGutter:y,onTabClick:function(e,t){null===x||void 0===x||x(e,t),B(e),null===P||void 0===P||P(e)},onTabScroll:R,extra:j,style:O,panes:u});return Q=k?k($,Io):a.createElement(Io,$),a.createElement(Ro.Provider,{value:{tabs:L,prefixCls:c}},a.createElement("div",Object(he.a)({ref:t,id:o,className:ye()(c,"".concat(c,"-").concat(Y),(n={},Object(C.a)(n,"".concat(c,"-mobile"),z),Object(C.a)(n,"".concat(c,"-editable"),b),Object(C.a)(n,"".concat(c,"-rtl"),N),n),i)},T),Q,a.createElement(zo,Object(he.a)({destroyInactiveTabPane:E},Z,{animated:r}))))}var Ao=a.forwardRef(Ho);Ao.TabPane=Mo;var Bo=Ao,Fo=n("GZ0F"),Vo=n("4i/N"),Uo=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function Wo(e){var t,n,r=e.type,o=e.className,l=e.size,c=e.onEdit,i=e.hideAdd,u=e.centered,s=e.addIcon,d=Uo(e,["type","className","size","onEdit","hideAdd","centered","addIcon"]),f=d.prefixCls,b=a.useContext(Oe.b),p=b.getPrefixCls,m=b.direction,h=p("tabs",f);return"editable-card"===r&&(n={onEdit:function(e,t){var n=t.key,a=t.event;null===c||void 0===c||c("add"===e?a:n,e)},removeIcon:a.createElement(Vo.a,null),addIcon:s||a.createElement(Ga,null),showAdd:!0!==i}),Object(je.a)(!("onPrevClick"in d)&&!("onNextClick"in d),"Tabs","`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead."),a.createElement(Bo,Object(he.a)({direction:m},d,{moreTransitionName:"slide-up",className:ye()((t={},Object(C.a)(t,"".concat(h,"-").concat(l),l),Object(C.a)(t,"".concat(h,"-card"),["card","editable-card"].includes(r)),Object(C.a)(t,"".concat(h,"-editable-card"),"editable-card"===r),Object(C.a)(t,"".concat(h,"-centered"),u),t),o),editable:n,moreIcon:a.createElement(Fo.a,null),prefixCls:h}))}Wo.TabPane=Mo;var Jo=Wo,Ko=[{label:"Summaries",workspaces:[{label:"Summary",foldersPath:["Summary"]},{label:"Shift",foldersPath:["00 Shift"]},{label:"Info",foldersPath:["Info"]},{label:"Everything",foldersPath:[]}]},{label:"Trigger",workspaces:[{label:"L1T",foldersPath:["L1T"]},{label:"L1T2016EMU",foldersPath:["L1T2016EMU"]},{label:"L1T2016",foldersPath:["L1T2016"]},{label:"L1TEMU",foldersPath:["L1TEMU"]},{label:"HLT",foldersPath:["HLT"]}]},{label:"Tracker",workspaces:[{label:"PixelPhase1",foldersPath:["PixelPhase1"]},{label:"Pixel",foldersPath:["Pixel"]},{label:"SiStrip",foldersPath:["SiStrip","Tracking"]}]},{label:"Calorimeters",workspaces:[{label:"Ecal",foldersPath:["Ecal","EcalBarrel","EcalEndcap","EcalCalibration"]},{label:"EcalPreshower",foldersPath:["EcalPreshower"]},{label:"HCAL",foldersPath:["Hcal","Hcal2"]},{label:"HCALcalib",foldersPath:["HcalCalib"]},{label:"Castor",foldersPath:["Castor"]}]},{label:"Muons",workspaces:[{label:"CSC",foldersPath:["CSC"]},{label:"DT",foldersPath:["DT"]},{label:"RPC",foldersPath:["RPC"]}]},{label:"CTPPS",workspaces:[{label:"TrackingStrip",foldersPath:["CTPPS/TrackingStrip","CTPPS/common","CTPPS/TrackingStrip/Layouts"]},{label:"TrackingPixel",foldersPath:["CTPPS/TrackingPixel","CTPPS/common","CTPPS/TrackingPixel/Layouts"]},{label:"TimingDiamond",foldersPath:["CTPPS/TimingDiamond","CTPPS/common","CTPPS/TimingDiamond/Layouts"]},{label:"TimingFastSilicon",foldersPath:["CTPPS/TimingFastSilicon","CTPPS/common","CTPPS/TimingFastSilicon/Layouts"]}]}],Go=a.createElement,Xo=Jo.TabPane,Yo=function(){var e=Object(c.useRouter)().query,t=a.useContext(qa.b),n=t.workspace,r=t.setWorkspace,o="ONLINE"===h.b.mode?Ko:Or;a.useEffect((function(){var t=e.workspaces?e.workspaces:o[0].workspaces[3].label;return r(t),function(){return r(t)}}),[]);var l=a.useState(!1),i=Object(g.a)(l,2),u=i[0],s=i[1];return Go(rn.a,null,Go(_.p,{label:"Workspace"},Go(Jt.a,{onClick:function(){s(!u)},type:"link"},n),Go(j.i,{title:"Workspaces",visible:u,onCancel:function(){return s(!1)},footer:null},Go(Jo,{defaultActiveKey:"1",type:"card"},o.map((function(t){return Go(Xo,{key:t.label,tab:t.label},t.workspaces.map((function(t){return Go(Jt.a,{key:t.label,type:"link",onClick:Object(P.a)(k.a.mark((function n(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(t.label),s(!u),t.label!==o[0].workspaces[0].label){n.next=7;break}return n.next=5,Object(gr.b)(e,t.label,"Summary");case 5:n.next=9;break;case 7:return n.next=9,Object(gr.b)(e,t.label);case 9:case"end":return n.stop()}}),n)})))},t.label)})))}))))))},Qo=a.createElement,Zo=function(){var e=Object(c.useRouter)().query,t=a.useState(e.plot_search),n=Object(g.a)(t,2),r=n[0],o=n[1];return a.useEffect((function(){if(e.plot_search!==r){var t=Object(ee.d)({plot_search:r},e);Object(ee.a)(t)}}),[r]),a.useMemo((function(){return Qo(rn.a,{onChange:function(e){return o(e.target.value)}},Qo(_.p,null,Qo(_.u,{defaultValue:e.plot_search,id:"plot_search",placeholder:"Enter plot name"})))}),[r])},$o=r.a.createElement,el=function(e){var t=e.folder_path,n=e.run_number,o=e.dataset_name,l=Object(a.useContext)(qa.b),i=l.viewPlotsPosition,s=l.proportion,d=Object(c.useRouter)().query,f={run_number:n,dataset_name:o,folders_path:t,plot_search:d.plot_search},b=Object(a.useState)(!1),p=b[0],m=b[1],h=d.selected_plots,v=Sr(d,f),y=v.foldersByPlotSearch,O=v.plots,j=v.isLoading,w=v.errors,S=O.filter((function(e){return e.hasOwnProperty("layout")})),E=Object(J.chain)(S).sortBy("layout").groupBy("layout").value(),k=y||[],C=Object(ee.k)(h,O),P=r.a.useRef(null),x=r.a.useState(0),R=Object(g.a)(x,2),T=R[0],L=R[1];return r.a.useEffect((function(){P.current&&L(P.current.clientWidth)}),[P.current]),$o(r.a.Fragment,null,$o(_.e,{space:"2",width:"100%",justifycontent:"space-between"},$o(Nr,{openSettings:p,toggleSettingsModal:m,isAnyPlotSelected:0===C.length}),$o(u.a,{style:{padding:8}},$o(yr.a,{folder_path:t,changeFolderPathByBreadcrumb:function(e){return Object(ee.a)(Object(ee.d)(e,d))}})),$o(qt.a,{gutter:16},$o(u.a,null,$o(Yo,null)),$o(u.a,null,$o(Zo,null)),$o(u.a,null,$o(po,null)),$o(u.a,null,$o(_.v,{icon:$o(Yn,null),onClick:function(){return m(!0)}},"Settings")))),$o(_.e,{width:"100%"},$o(vr,{plotsAreaWidth:T,selected_plots:C.length>0})),$o(r.a.Fragment,null,$o(_n.c,{selectedPlots:C.length>0,position:i},$o(co,{plotsAreaRef:P,plots:O,selected_plots:C,plots_grouped_by_layouts:E,isLoading:j,viewPlotsPosition:i,proportion:s,errors:w,filteredFolders:k,query:d}),C.length>0&&0===w.length&&$o(_n.o,{any_selected_plots:C.length&&0===w.length,proportion:s,position:i},$o(Aa,{selected_plots:C})))))},tl=a.createElement,nl=function(){return tl(_.j,{onClick:function(){!function(e,t){var n={run_number:e,dataset_name:t,folder_path:"Summary",workspaces:Ko[0].workspaces[0].label},a=m.a.stringify(n,{}),r="/"!==h.d?"".concat(h.d,"?").concat(a):void 0;i.a.push({pathname:"",query:n},r)}("0","/Global/Online/ALL")}},tl("a",null,"Live Mode"))},al=a.createElement,rl=function(e){var t=e.latest_runs,n=e.not_older_than,a=Object(Zn.a)(e,["latest_runs","not_older_than"]),r=Object(c.useRouter)().query.mode,o=ra(n).blink;return al(Mt.e,null,t.map((function(e){return al(Mt.n,{key:e.toString()},al(Mt.h,{isLoading:o.toString(),animation:("ONLINE"===a.mode).toString(),hover:"true",onClick:function(){Object(ee.a)({search_run_number:e,mode:r})}},al(Mt.l,null,e)))})))},ol=a.createElement,ll=function(){var e=a.useContext(Et.b),t=e.not_older_than,n=e.addLoader,r=a.useState(),o=Object(g.a)(r,2),l=o[0],c=o[1],i=N(Object($t.g)(t),{},[]),u=N(Object($t.g)(t),{},[t]),s=jr(i.data,u.data),d=jr(i.errors,u.errors),f=jr(i.isLoading,u.isLoading),b=i.isLoading,p=s&&s.runs.sort((function(e,t){return e-t}));return a.useEffect((function(){var e=Object(de.f)();c(e)}),[]),a.useEffect((function(){n({value:f,id:l})}),[f]),ol(a.Fragment,null,!b&&d.length>0?d.map((function(e){return ol(Mt.m,{key:e,message:e,type:"error",showIcon:!0})})):b?ol(Mt.k,null,ol(Mt.j,null)):ol(Mt.c,null,ol(_.c,{display:"flex",justifycontent:"flex-end",width:"auto"},"ONLINE"===h.b.mode&&ol(nl,null)),ol(Mt.d,null,"The latest runs"),b?ol(Mt.k,null,ol(Mt.j,null)):p&&0===p.length&&!b&&0===d.length?ol(Bt.a,null):p&&ol(rl,{latest_runs:p,mode:h.b.mode,not_older_than:t})))},cl=a.createElement,il=function(){var e=Object(c.useRouter)().query,t=Ut(e.search_run_number,e.search_dataset_name),n=t.results_grouped,a=t.searching,r=t.isLoading,o=t.errors;return e.dataset_name&&e.run_number?cl(el,{run_number:e.run_number||"",dataset_name:e.dataset_name||"",folder_path:e.folder_path||""}):a?cl(Vt,{isLoading:r,results_grouped:n,handler:function(t,n,a){a.preventDefault();var r=Object(de.g)(t.toString()),o=r.parsedRun,l=r.parsedLumi;Object(ee.a)(Object(ee.d)({lumi:l,run_number:o,dataset_name:n,workspaces:"Everything",plot_search:""},e))},errors:o}):!h.b.new_back_end.latest_runs||e.dataset_name||e.run_number?cl(Mt.g,null,cl(Mt.f,{noBorder:!0},cl(Mt.a,null),"Welcome to DQM GUI")):cl(ll,null)},ul=a.createElement,sl=ul(In.a,null,[{name:"Online-new",link:"https://cmsweb.cern.ch/dqm/online-new/"},{name:"Online-playback-new",link:"https://cmsweb.cern.ch/dqm/online-playback-new/"},{name:"Offline",link:"https://dqm-gui.web.cern.ch/"}].map((function(e){return ul(In.a.Item,{disabled:h.a&&h.a.toUpperCase()===e.name.toUpperCase()},ul(Jt.a,{type:"link",disabled:h.a&&h.a.toUpperCase()===e.name.toUpperCase(),onClick:function(){return location.href=e.link}},e.name))}))),dl=function(){return ul(zn.a,{overlay:sl,placement:"bottomCenter",arrow:!0},ul(Jt.a,{type:"link",style:{color:"white",fontVariant:"all-small-caps"}},h.a))},fl=r.a.createElement;t.default=function(){var e=Object(c.useRouter)().query,t=!!e.run_number&&!!e.dataset_name;return window.onload=function(){document.getElementById("holderStyle").remove()},fl(d.a,null,fl(l.a,null,fl("style",{id:"holderStyle",dangerouslySetInnerHTML:{__html:"\n      *, *::before, *::after {\n        transition: none!important;\n      }"}}),fl("script",{crossOrigin:"anonymous",type:"text/javascript",src:"./jsroot-5.8.0/scripts/JSRootCore.js?2d&hist&more2d"}),fl("script",{src:"https://unpkg.com/react@17/umd/react.production.min.js"}),fl("script",{src:"https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"})),fl(d.c,null,fl(d.b,null,fl(u.a,null,fl(u.a,{style:{display:"flex",alignItems:"center"}},fl(s.a,{title:"Back to main page",placement:"bottomLeft"},fl(d.e,null,fl(d.f,{onClick:function(e){return function(e){var t="/"!==h.d?"".concat(h.d):void 0;i.a.push({pathname:""},t)}()}},fl(d.d,{src:"./images/CMSlogo_white_red_nolabel_1024_May2014.png"})))),fl(dl,null))),fl(Kn,{isDatasetAndRunNumberSelected:t,query:e})),fl(il,null)))}},"24Hv":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n("ODXe"),r=n("q1tI"),o=n.n(r),l=n("Rja7"),c=o.a.createElement,i={imageRefScrollDown:null,workspace:"Everything",openOverlayDataMenu:!1,viewPlotsPosition:l.g[1].value,proportion:l.d[0].value},u=Object(r.createContext)(i),s=u.Provider,d=function(e){var t=e.children,n=o.a.useState(i.openOverlayDataMenu),l=Object(a.a)(n,2),u=l[0],d=l[1],f=Object(r.useState)(i.imageRefScrollDown),b=f[0],p=f[1],m=o.a.useState(i.workspace),h=Object(a.a)(m,2),v=h[0],y=h[1],g=o.a.useState(i.viewPlotsPosition),O=Object(a.a)(g,2),j=O[0],_=O[1],w=o.a.useState(i.proportion),S=Object(a.a)(w,2),E=S[0],k=S[1];return c(s,{value:{imageRefScrollDown:b,setImageRefScrollDown:p,workspace:v,setWorkspace:y,openOverlayDataMenu:u,toggleOverlayDataMenu:d,viewPlotsPosition:j,setViewPlotsPosition:_,proportion:E,setProportion:k}},t)}},DB5t:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f}));var a=n("KQm4"),r=n("ODXe"),o=n("q1tI"),l=n.n(o),c=n("Rja7"),i=l.a.createElement,u={size:c.f.medium.size,normalize:!0,stats:!0,error:!1,overlayPosition:c.c[0].value,triples:[],runs_set_for_overlay:[],lumisection:-1},s=Object(o.createContext)(u),d=s.Provider,f=function(e){var t=e.children,n=Object(o.useState)(u.size),c=n[0],s=n[1],f=Object(o.useState)(u.normalize),b=f[0],p=f[1],m=Object(o.useState)(u.error),h=m[0],v=m[1],y=Object(o.useState)(u.stats),g=y[0],O=y[1],j=Object(o.useState)(u.overlayPosition),_=j[0],w=j[1],S=l.a.useState(u.triples),E=Object(r.a)(S,2),k=E[0],C=E[1],P=l.a.useState(u.runs_set_for_overlay),x=Object(r.a)(P,2),R=x[0],T=x[1],L=l.a.useState(u.lumisection),N=Object(r.a)(L,2),D=N[0],I=N[1];return i(d,{value:{size:c,setSize:s,normalize:b,setNormalize:p,stats:g,setStats:O,error:h,setError:v,overlayPosition:_,setOverlaiPosition:w,change_value_in_reference_table:function(e,t,n){var r=Object(a.a)(k),o=k.filter((function(e){return e.id===n}))[0];o||(o=R.filter((function(e){return e.id===n}))[0]);var l=r.indexOf(o);o[t]=e,r[l]=o,C(r)},triples:k,setTriples:C,runs_set_for_overlay:R,set_runs_set_for_overlay:T,lumisection:D,setLumisection:I}},t)}},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},fcT2:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var a=n("o0o1"),r=n.n(a),o=n("HaE+"),l=n("KQm4"),c=n("ODXe"),i=n("q1tI"),u=n.n(i),s=u.a.createElement,d={loaders:[],not_older_than:Math.floor((new Date).getTime()/1e3)},f=Object(i.createContext)(d),b=f.Provider,p=function(e){var t=e.children,n=u.a.useState(d.loaders),a=Object(c.a)(n,2),i=a[0],f=a[1],p=u.a.useState(d.not_older_than),m=Object(c.a)(p,2),h=m[0],v=m[1],y=u.a.useState(!1),g=Object(c.a)(y,2),O=g[0],j=g[1],_=i.map((function(e){return e.value}));u.a.useEffect((function(){var e=_.includes(!0);j(e)}),_);return u.a.useEffect((function(){!function(){if(!_.includes(!0))setTimeout(Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Math.floor((new Date).getTime()/1e3);case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)}))),2e4)}()}),[h,O]),s(b,{value:{addLoader:function(e){var t=Object(l.a)(i),n=t.length>0?t.map((function(t){return t.id===e.id?t=e:e})):[e];f(n)},not_older_than:h}},t)}},w9pq:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n("q1tI"),r=n.n(a),o=n("Rja7"),l=r.a.createElement,c={rightSideSize:o.f.fill.size,JSROOTmode:!1,customise:{xtype:"",xmin:NaN,xmax:NaN,ytype:"",ymin:NaN,ymax:NaN,ztype:"",zmin:NaN,zmax:NaN,drawopts:"",withref:""}},i=Object(a.createContext)(c),u=i.Provider,s=function(e){var t=e.children,n=Object(a.useState)(c.rightSideSize),r=n[0],o=n[1],i=Object(a.useState)(c.customise),s=i[0],d=i[1],f=Object(a.useState)(c.JSROOTmode),b=f[0],p=f[1];return l(u,{value:{rightSideSize:r,setRightSideSize:o,JSROOTmode:b,setJSROOTmode:p,customise:s,setCustomize:d}},t)}}},[["/EDR",0,2,4,1,3,5]]]);